(function(){window.console||(window.console={log:function(){}})}).call(this),window.Modernizr=function(e,t,n){function r(e,t){for(var r in e){var i=e[r];if(!~(""+i).indexOf("-")&&d[i]!==n)return"pfx"!=t||i}return!1}function i(e,t,i){var a=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+h.join(a+" ")+a).split(" ");if("string"==typeof t||"undefined"==typeof t)return r(o,t);o=(e+" "+f.join(a+" ")+a).split(" ");e:{var s,e=o;for(s in e)if(a=t[e[s]],a!==n){if(!1===i){t=e[s];break e}if("function"==typeof a){t=a.bind(i||t);break e}t=a;break e}t=!1}return t}var a,o,s={},u=t.documentElement,l=t.createElement("modernizr"),d=l.style,l=t.createElement("input"),c=" -webkit- -moz- -o- -ms- ".split(" "),h=["Webkit","Moz","O","ms"],f=["webkit","moz","o","ms"],p={},m={},_={},y=[],g=y.slice,v=function(e,n,r,i){var a,o,s=t.createElement("div"),l=t.body,d=l||t.createElement("body");if(parseInt(r,10))for(;r--;)a=t.createElement("div"),a.id=i?i[r]:"modernizr"+(r+1),s.appendChild(a);return r=['&#173;<style id="smodernizr">',e,"</style>"].join(""),s.id="modernizr",(l?s:d).innerHTML+=r,d.appendChild(s),l||(d.style.background="",d.style.overflow="hidden",o=u.style.overflow,u.style.overflow="hidden",u.appendChild(d)),e=n(s,e),l?s.parentNode.removeChild(s):(d.parentNode.removeChild(d),u.style.overflow=o),!!e},M={}.hasOwnProperty;o="undefined"!=typeof M&&"undefined"!=typeof M.call?function(e,t){return M.call(e,t)}:function(e,t){return t in e&&"undefined"==typeof e.constructor.prototype[t]},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=g.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var i=new i,a=t.apply(i,n.concat(g.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(g.call(arguments)))};return r}),p.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:v(["@media (",c.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},p.history=function(){return!(!e.history||!history.pushState)},p.cssanimations=function(){return i("animationName")},p.csstransitions=function(){return i("transition")};for(var w in p)o(p,w)&&(a=w.toLowerCase(),s[a]=p[w](),y.push((s[a]?"":"no-")+a));if(!s.input){for(w="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),p=0,a=w.length;p<a;p++)_[w[p]]=!!(w[p]in l);_.list&&(_.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),s.input=_,_="search tel url email datetime date month week time datetime-local number range color".split(" "),w=0;for(var b,p=_.length;w<p;w++)l.setAttribute("type",b=_[w]),(a="text"!==l.type)&&(l.value=":)",l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(b)&&l.style.WebkitAppearance!==n?(u.appendChild(l),a=t.defaultView,a=a.getComputedStyle&&"textfield"!==a.getComputedStyle(l,null).WebkitAppearance&&0!==l.offsetHeight,u.removeChild(l)):/^(search|tel)$/.test(b)||(a=/^(url|email)$/.test(b)?l.checkValidity&&!1===l.checkValidity():":)"!=l.value)),m[_[w]]=!!a;s.inputtypes=m}s.addTest=function(e,t){if("object"==typeof e)for(var r in e)o(e,r)&&s.addTest(r,e[r]);else{if(e=e.toLowerCase(),s[e]!==n)return s;t="function"==typeof t?t():t,u.className+=" "+(t?"":"no-")+e,s[e]=t}return s},d.cssText="";var L,k,l=l=null,Y=function(){var e=P.elements;return"string"==typeof e?e.split(" "):e},T=function(e){var t=E[e[$]];return t||(t={},j++,e[$]=j,E[j]=t),t},x=function(e,n,r){return n||(n=t),k?n.createElement(e):(r||(r=T(n)),n=r.cache[e]?r.cache[e].cloneNode():S.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),n.canHaveChildren&&!D.test(e)?r.frag.appendChild(n):n)},l=function(e){e||(e=t);var n=T(e);if(P.shivCSS&&!L&&!n.hasCSS){var r,i=e;r=i.createElement("p"),i=i.getElementsByTagName("head")[0]||i.documentElement,r.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",r=i.insertBefore(r.lastChild,i.firstChild),n.hasCSS=!!r}if(!k){var a=e;n.cache||(n.cache={},n.createElem=a.createElement,n.createFrag=a.createDocumentFragment,n.frag=n.createFrag()),a.createElement=function(e){return P.shivMethods?x(e,a,n):n.createElem(e)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+Y().join().replace(/\w+/g,function(e){return n.createElem(e),n.frag.createElement(e),'c("'+e+'")'})+");return n}")(P,n.frag)}return e},m=this.html5||{},D=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,S=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,$="_html5shiv",j=0,E={};try{var H=t.createElement("a");H.innerHTML="<xyz></xyz>",L="hidden"in H;var A;if(!(A=1==H.childNodes.length)){t.createElement("a");var C=t.createDocumentFragment();A="undefined"==typeof C.cloneNode||"undefined"==typeof C.createDocumentFragment||"undefined"==typeof C.createElement}k=A}catch(e){k=L=!0}var P={elements:m.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==m.shivCSS,supportsUnknownElements:k,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:l,createElement:x,createDocumentFragment:function(e,n){if(e||(e=t),k)return e.createDocumentFragment();for(var n=n||T(e),r=n.frag.cloneNode(),i=0,a=Y(),o=a.length;i<o;i++)r.createElement(a[i]);return r}};return this.html5=P,l(t),s._version="2.6.2",s._prefixes=c,s._domPrefixes=f,s._cssomPrefixes=h,s.testProp=function(e){return r([e])},s.testAllProps=i,s.testStyles=v,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+y.join(" ")),s}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==m.call(e)}function i(e){return"string"==typeof e}function a(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=_.shift();y=1,e?e.t?f(function(){("c"==e.t?c.injectCss:c.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function u(e,n,r,a,u){if(y=0,n=n||"j",i(e)){var l="c"==n?b:w,d=this.i++,h=function(t){if(!g&&o(m.readyState)&&(k.r=g=1,!y&&s(),m.onload=m.onreadystatechange=null,t)){"img"!=l&&f(function(){M.removeChild(m)},50);for(var n in Y[e])Y[e].hasOwnProperty(n)&&Y[e][n].onload()}},u=u||c.errorTimeout,m=t.createElement(l),g=0,L=0,k={t:n,s:e,e:r,a:a,x:u};1===Y[e]&&(L=1,Y[e]=[]),"object"==l?m.data=e:(m.src=e,m.type=l),m.width=m.height="0",m.onerror=m.onload=m.onreadystatechange=function(){h.call(this,L)},_.splice(d,0,k),"img"!=l&&(L||2===Y[e]?(M.insertBefore(m,v?null:p),f(h,u)):Y[e].push(m))}else _.splice(this.i++,0,e),1==_.length&&s();return this}function l(){var e=c;return e.loader={load:u,i:0},e}var d,c,h=t.documentElement,f=e.setTimeout,p=t.getElementsByTagName("script")[0],m={}.toString,_=[],y=0,g="MozAppearance"in h.style,v=g&&!!t.createRange().compareNode,M=v?h:p.parentNode,h=e.opera&&"[object Opera]"==m.call(e.opera),h=!!t.attachEvent&&!h,w=g?"object":h?"script":"img",b=h?"script":w,L=Array.isArray||function(e){return"[object Array]"==m.call(e)},k=[],Y={},T={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};c=function(e){function t(e,t,i,a,o){var s,u;u=e.split("!");var d,c,h,f=k.length,p=u.pop(),m=u.length,p={url:p,origUrl:p,prefixes:u};for(c=0;c<m;c++)h=u[c].split("="),(d=T[h.shift()])&&(p=d(p,h));for(c=0;c<f;c++)p=k[c](p);s=p;var _=s.autoCallback;s.url.split(".").pop().split("?").shift(),s.bypass||(t&&(t=r(t)?t:t[e]||t[a]||t[e.split("/").pop().split("?")[0]]),s.instead?s.instead(e,t,i,a,o):(Y[s.url]?s.noexec=!0:Y[s.url]=1,i.load(s.url,s.forceCSS||!s.forceJS&&"css"==s.url.split(".").pop().split("?").shift()?"c":n,s.noexec,s.attrs,s.timeout),(r(t)||r(_))&&i.load(function(){l(),t&&t(s.origUrl,o,a),_&&_(s.origUrl,o,a),Y[s.url]=2})))}function o(e,n){function o(e,a){if(e){if(i(e))a||(c=function(){var e=[].slice.call(arguments);h.apply(this,e),f()}),t(e,c,n,0,l);else if(Object(e)===e)for(u in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(u)&&(!a&&!--s&&(r(c)?c=function(){var e=[].slice.call(arguments);h.apply(this,e),f()}:c[u]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(h[u])),t(e[u],c,n,u,l))}else!a&&f()}var s,u,l=!!e.test,d=e.load||e.both,c=e.callback||a,h=c,f=e.complete||a;o(l?e.yep:e.nope,!!d),d&&o(d)}var s,u,d=this.yepnope.loader;if(i(e))t(e,0,d,0);else if(L(e))for(s=0;s<e.length;s++)u=e[s],i(u)?t(u,0,d,0):L(u)?c(u):Object(u)===u&&o(u,d);else Object(e)===e&&o(e,d)},c.addPrefix=function(e,t){T[e]=t},c.addFilter=function(e){k.push(e)},c.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,i,u,l){var d,h,m=t.createElement("script"),i=i||c.errorTimeout;m.src=e;for(h in r)m.setAttribute(h,r[h]);n=l?s:n||a,m.onreadystatechange=m.onload=function(){!d&&o(m.readyState)&&(d=1,n(),m.onload=m.onreadystatechange=null)},f(function(){d||(d=1,n(1))},i),u?m.onload():p.parentNode.insertBefore(m,p)},e.yepnope.injectCss=function(e,n,r,i,o,u){var l,i=t.createElement("link"),n=u?s:n||a;i.href=e,i.rel="stylesheet",i.type="text/css";for(l in r)i.setAttribute(l,r[l]);o||(p.parentNode.insertBefore(i,p),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("fileinput",function(){var e=document.createElement("input");return e.type="file",!e.disabled}),Modernizr.addTest("placeholder",function(){return!!("placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea")))}),function(){var e;"undefined"==typeof this.$analytics&&(this.$analytics={}),e=0,this.$analytics.track=function(e,t,n,r){return"function"==typeof ga?ga("send","event",e,t,n,r):void 0},this.$analytics.trackPageView=function(e){return"function"==typeof ga?ga("send","pageview",e):void 0}}.call(this),function(){!function(e){return e.fn.isOrHas=function(e){return this.is(e)||this.has(e).length>0},e.fn.exists=function(e){return this.has(e).length>0},e.fn.fadeOutAndRemove=function(e){return null==e&&(e="normal"),this.fadeOut(e,function(e){return function(){return e.remove()}}(this))},e.fn.isInDom=function(){return e(document.body).isOrHas(this.selector)},e.fn.addUniqueClass=function(){return this.addClass("selected").siblings(".selected").removeClass("selected")},e.fn.hasParent=function(e){return this.filter(function(t){return function(){return t.parents(e).length>0}}(this))},e.fn.existsParent=function(e){return this.parents(e).length>0},e.fn.isOrHasParent=function(e){return this.is(e)||this.existsParent(e)}}(jQuery)}.call(this),function(){!function(e){return e(document).ajaxSend(function(t,n,r){var i;if(r.crossDomain!==!0){if(i=e('meta[name="csrf-token"]').attr("content"),i&&n.setRequestHeader("Authorization","CSRF "+i),ww.uid)return n.setRequestHeader("X-UID",ww.uid);if(window.Raven)return window.Raven.captureMessage("No UID set for brahms",{extra:{location:window.location.href}})}})}(jQuery)}.call(this),function(){var e,t,n,r;n=window.ww||(window.ww={}),t={},r=document.body.getAttribute("ww-variant-version")||document.documentElement.getAttribute("data-app-version"),t.versionAsString=r,t.versionAsFloat=parseFloat(r),t.currentAppVersionGreaterThan=function(e){if("number"==typeof e)return e-parseFloat(Math.floor(e).toFixed(2))>.001?Math.floor(100*parseFloat(r))>parseInt(100*e):Math.floor(100*parseFloat(r))>100*e;if("string"==typeof e)return e.indexOf(".")>-1?t.currentAppVersionGreaterThan(parseFloat(e)):t.currentAppVersionGreaterThan(parseInt(e));throw new Error("Unrecognized type")},e={postMessage:19,postNatively:30,showAddPost:19,showAlertSheet:19,showChildPanel:18,signalStatusWithLocation:19},t.can=function(n){var r;return null!=(r=e[n])&&t.currentAppVersionGreaterThan(r)},t.cannot=function(e){return!t.can(e)},n.appVariant=t}.call(this),function(){var e,t,n,r,i,a,o,s,u,l,d;window.ww||(window.ww={}),ww.device={},e={},t=navigator,s=navigator.userAgent.toLowerCase(),n=t.platform.toLowerCase(),e.ipad=s.indexOf("ipad")>=0,e.iphone=s.indexOf("iphone")>=0,e.ipod=s.indexOf("ipod")>=0,e.ios=e.ipad||e.iphone||e.ipod,e.android=s.indexOf("android")>=0,e.windowsPhone=s.indexOf("windows phone")>=0,e.mac=null!==n.match(/^mac/),e.windows=0===n.indexOf("win"),e.webos=s.indexOf("webos")>=0,e.blackberry=s.indexOf("blackberry")>=0,e.edge=s.indexOf("chrome")>=0&&s.indexOf("edge/")>=0,e.chrome=!e.edge&&s.indexOf("chrome")>=0,e.firefox=s.indexOf("firefox")>=0,e.ie=s.indexOf("msie")>=0||"Netscape"===t.appName&&s.indexOf("trident")>=0,e.webkit=s.indexOf("webkit")>=0,e.safari=!!window.safari||(null!=(i=navigator.vendor)?i.indexOf("Apple"):void 0)>=0,e.ie11=s.indexOf("rv:11.0")>=0,e.ie10=s.indexOf("msie 10.0")>=0,d=s.match(/(?:version|chrome|firefox)\/(.*?)(?:$|\s)/),d?e.version=parseFloat(d[1]):e.version=0,e.mobile=e.ios||e.android||e.windowsPhone||e.blackberry,e.desktop=!e.mobile,e.supported=!e.ie&&(!e.safari||e.version>9),e.touchable=e.ios||e.android||e.webos||e.blackberry,e.mousable=!e.touchable,e.retina=void 0!==window.devicePixelRatio&&window.devicePixelRatio>1,e.clickGesture=e.touchable?"tap":"click",e.dragFile=!e.touchable&&($.support.xhrFileUpload||$.support.xhrFormDataFileUpload),e.cookies=navigator.cookieEnabled,l=(null!=(a=document.body.getAttribute("ww-app-variant"))?a.split(" "):void 0)||(null!=(o=document.documentElement.getAttribute("data-variant"))?o.split(" "):void 0),e.tablet=l.indexOf("tablet")>-1,e.phone=l.indexOf("phone")>-1,e.iosApp=l.indexOf("ios")>-1,e.androidApp=l.indexOf("android")>-1,e.app=e.iosApp||e.androidApp,e.can=ww.appVariant.can.bind(e),ww.device=window.$device=e;for(r in e)u=e[r],u===!0&&document.documentElement.classList.add(r)}.call(this),function(){!function(e){var t;return t=function(){var e,t;return(e=this.data("alert"))&&(e.timer&&clearTimeout(e.timer),e.element.remove(),null!=(t=e.replace)&&t.show(),this.removeData("alert").removeClass("alert-alerting"),this.trigger("alert:hide")),!0},e.fn.alert=function(n,r,i){var a,o,s,u;return null==i&&(i={}),t.call(this,i),n!==!1&&(s={},a=e('<div class="'+n+' alert"><span class="message">'+r+"</span></div>"),i.className&&a.addClass(i.className),i.defaultStyle!==!1&&a.addClass("alert-default"),i.size&&a.addClass("alert-"+i.size),i.icon!==!1&&(u=function(){switch(n){case"success":return"checkmark";case"error":return"cancel";default:return n}}(),a.prepend('<span class="icon-'+u+'"></span>')),i.replace&&(o=this.find(i.replace),s.replace=o.hide()),this.addClass("alert-alerting"),i.animate?(a.hide(),a.appendTo(this).fadeIn(function(e){return function(){return e.trigger("alert:show")}}(this))):(a.appendTo(this),this.trigger("alert:show")),s.element=a,this.data("alert",s),i.autoHide&&(s.timer=setTimeout(function(e){return function(){return i.animate?a.fadeOut(function(){return e.alert(!1)}):e.alert(!1)}}(this),5e3))),this}}(jQuery)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Backbone.BetterModel=function(n){function r(e,t){var n;r.__super__.constructor.call(this,e,t),null==t&&(t={}),(null!=e?e.id:void 0)&&(this._syncedAttributes=e),this._syncedAttributes={},this._pastAttributes=[],this._futureAttributes=[],this._listeners=[],this._syncErrorTolerance=null!=(n=t.syncErrorTolerance)?n:1,t.version&&this.startVersioning(),this.addListener(Backbone.AnalyticsListener)}return e(r,n),r.prototype.addListener=function(e){return"function"==typeof e?this._listeners.push(new e(this)):this._listeners.push(e),this},r.prototype.matches=function(e){return _.isEqual(_(this.attributes).pick(_(e).keys()),e)},r.prototype.saveVersion=function(){return this._pastAttributes.push(this.attributes),this._futureAttributes.length=0,this},r.prototype.saveVersionOnChange=function(){return this._pastAttributes.push(this.previousAttributes()),this._futureAttributes.length=0,this},r.prototype.undo=function(){return this.canUndo()&&(this.stopVersioning(),this._futureAttributes.push(this.attributes),this.set(this._pastAttributes.pop()),this.startVersioning()),this},r.prototype.redo=function(){return this.canRedo()&&(this.stopVersioning(),this._pastAttributes.push(this.attributes),this.set(this._futureAttributes.shift()),this.startVersioning()),this},r.prototype.canUndo=function(){return this._pastAttributes.length>0},r.prototype.canRedo=function(){return this._futureAttributes.length>0},r.prototype.startVersioning=function(){return this.on("change",this.saveVersionOnChange,this),this},r.prototype.stopVersioning=function(){return this.off("change",this.saveVersion,this),this},r.prototype.dirtyAttributes=function(){var e,t,n,r;e={},n=this.attributes;for(t in n)r=n[t],_.isEqual(r,this._syncedAttributes[t])||(e[t]=r);return e},r.prototype.parseError=function(e){switch("undefined"!=typeof Raven&&null!==Raven&&Raven.setExtraContext({resp:e,attributes:this.attributes}),e.status){case 422:return JSON.parse(e.responseText);default:return e.responseText}},r.prototype.patch=function(e,t,n){var r,i,a;return _.isObject(e)||null===e?(r=e,n=t):(r={},r[e]=t),i=n?_.clone(n):{},i.data=r,a=i.success,!(r&&(this.matches(r)||!this._validate(r,null!=n?n:{})))&&(this.set(r),i.success=function(r){return function(o){var s;s=i.data;for(e in s)t=s[e],r.trigger("patch:"+e,r,t);return r.trigger("patch",r,i.data),"function"==typeof a?a(r,o,n):void 0}}(this),this.sync("update",this,i))},r.prototype.dsave=function(e,t,n){var r;return this._debouncedSave||(this._debouncedSave=_.debounce(this.save,1e3)),_.isObject(e)||null===e?(r=e,n=t):(r={},r[e]=t),!(r&&(this.matches(r)||!this._validate(r,null!=n?n:{})))&&(this.set(r),this._debouncedSave(null,null,n))},r.prototype.parameterize=function(){return this.toJSON()},r.prototype.isDirty=function(e){var t,n,r;if(e)return!_.isEqual(this.attributes[e],this._syncedAttributes[e]);n=this.attributes;for(t in n)if(r=n[t],!_.isEqual(r,this._syncedAttributes[t]))return!0;return!1},r.prototype.performAction=function(e,t,n){var r,i,a;return null==t&&(t={}),null==n&&(n={}),a=e.split(":"),e=a[0],r=a[1],void 0===r&&(r="update"),i=_.extend({url:this.url()+"/"+e,data:t},n),this.sync(r,this,i)},r.prototype.purge=function(e){return this.clear(e),this._syncedAttributes={},this._pastAttributes=[],this._futureAttributes=[],delete this._debouncedSave,this.trigger("purge"),this.off(),this},r.prototype.populate=function(e){return null==e&&(e={}),this._promise||(this._promise=$.Deferred()),_.isEmpty(this._syncedAttributes)?this.fetch(_.extend(e,{success:function(e){return function(){return e._promise.resolve(e),e._promise=null}}(this),error:function(e){return function(t,n){return e._promise.reject(t,n),e._promise=null}}(this)})):_.defer(function(e){return function(){return e._promise.resolve(e),e._promise=null}}(this)),this._promise.promise()},r.prototype.sync=function(e,n,r){var i,a,o,s,u,l;return l=_.clone(r||{}),e=l._method||e,l._method=e,l._id=_.uniqueId("sync"),l.timeout=null!=(a=l.timeout)?a:5e3,u=l.success,i=l.error,s=null!=(o=l.retries)?o:this._syncErrorTolerance,"create"!==e&&"update"!==e||(l.data||(l.data=n.parameterize()),l.contentType="application/json",l.data=JSON.stringify(l.data)),this.trigger("sync:send",l),l.success=function(t,r,i){var a,o;return n.trigger("sync:success",l,t),n.trigger("sync:"+e,l,t),a=n._syncedAttributes,"update"===e&&(o=_(t).pick(function(e,t){return _.isEqual(a[t],n.attributes[t])}),n.set(o,{silent:!0})),n._syncedAttributes=_.clone(t),"function"==typeof u?u(t,r,i):void 0},l.error=function(a,o){var u,d,c,h,f;if(n.trigger("sync:error",l,a),f=503===a.status||405===a.status,h=a.readyState<4||a.status>=500,f)return $("#everything").confirm("Wallwisher is undergoing maintenance. We will be back shortly. Sorry!",{ok:"Ok, I forgive you",nok:"Seriously? That is not cool"});if(h&&s>0)return s--,Backbone.sync(e,n,l);if(o=h?"50x":a.status,c=n.parseError(a),n.trigger("error:"+o,n,c,r),422===o)for(u in c)t.call(c,u)&&(d=c[u],n.trigger("error:"+u,n,d,r));return"function"==typeof i?i(n,a,r):void 0},Backbone.sync(e,n,l)},r}(Backbone.Model)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Backbone.BetterCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(e,t){var r;return null==t&&(t={}),n.__super__.initialize.call(this,e,t),this.options=t,this._populated=!1,this._syncErrorTolerance=null!=(r=t.syncErrorTolerance)?r:0,this._listeners=[]},n.prototype.addListener=function(e){return"function"==typeof e?this._listeners.push(new e(this)):this._listeners.push(e),this},n.prototype.isPopulated=function(){return this._populated===!0},n.prototype.populate=function(e){return null==e&&(e=!1),this._def||(null==this._def&&(this._def=$.Deferred()),e!==!0&&this._populated?_.defer(function(e){return function(){return e._def.resolve(e),delete e._def}}(this)):this.fetch({success:function(e){return function(){return e._populated=!0,e._def.resolve(e),delete e._def}}(this)})),this._def.promise()},n.prototype.parseError=function(e){switch(e.status){case 422:return JSON.parse(e.responseText);default:return e.responseText}},n.prototype.sync=function(e,t,n){var r,i,a,o,s;return s=_.clone(n||{}),s._method=e,s._id=_.uniqueId("sync"),o=s.success,r=s.error,a=null!=(i=s.retries)?i:this._syncErrorTolerance,this.trigger("sync:send",s),s.success=function(n,r,i){return t.trigger("sync:success",s,n),t.trigger("sync:"+e,s,n),"function"==typeof o?o(n,r,i):void 0},s.error=function(t,i,o){var s,u;return t.trigger("sync:error",o,i),503===i.status||405===i.status?$("#everything").confirm("Wallwisher is undergoing maintenance. We will be back shortly. Sorry!",{ok:"Ok, I forgive you",nok:"Seriously? That is not cool"}):i.status>=500&&a>0?(a--,Backbone.sync(e,t,o)):(u=i.status>=500?"50x":i.status,s=t.parseError(i),t.trigger("error:"+u,t,s,n),"function"==typeof r?r(t,i,n):void 0)},Backbone.sync(e,t,s)},n}(Backbone.Collection)}.call(this),function(e,t,n){function r(){var t=e(this),n=t.data("toe")||0;0===n&&(t.on("touchstart",a),t.on("touchmove",o),t.on("touchend touchcancel",s)),t.data("toe",++n)}function i(){var t=e(this),n=t.data("toe")||0;t.data("toe",--n),0===n&&(t.off("touchstart",a),t.off("touchmove",o),t.off("touchend touchcancel",s))}var a,o,s,u={getTouches:function(t){return 0<t.originalEvent.touches.length?e.extend(!0,{},t.originalEvent.touches):0<t.originalEvent.changedTouches.length?e.extend(!0,{},t.originalEvent.changedTouches):[]},hasEvent:function(e,t){return e.data("events")?e.data("events")[t]:0}},l={getDirection:function(e){return-45>e&&-135<e?"top":-45<=e&&45>=e?"right":45<=e&&135>e?"down":135<=e||-135>=e?"left":void 0},getAngle:function(e,t){return 180*Math.atan2(t.pageY-e.pageY,t.pageX-e.pageX)/Math.PI},getScale:function(e,t){return 2===e.length&&2===t.length?Math.sqrt(Math.pow(t[0].pageX-t[1].pageX,2)+Math.pow(t[0].pageY-t[1].pageY,2))/Math.sqrt(Math.pow(e[0].pageX-e[1].pageX,2)+Math.pow(e[0].pageY-e[1].pageY,2)):0},getRotation:function(e,t){return 2===e.length&&2===t.length?180*Math.atan2(t[0].pageY-t[1].pageY,t[0].pageX-t[1].pageX)/Math.PI-180*Math.atan2(e[0].pageY-e[1].pageY,e[0].pageX-e[1].pageX)/Math.PI:0},getDistance:function(e,t){return Math.sqrt(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2))}},d={touches:{},events:{},timestamp:n,prevGesture:null,offset:{},clearState:function(){d.touches={},d.events={},d.timestamp=n}},c={start:[],move:[],end:[],none:[],add:function(t,a,o,s){var u,l,d=!1;if(s)for(u=0;u<c[t].length;u++)l=c[t][u],l.priority&&l.priority<s||(c[t].splice(u,0,{gesture:a,func:o,priority:n}),d=!0);(!s||!d)&&c[t].push({gesture:a,func:o,priority:n}),h&&(e.event.special[a]={setup:r,teardown:i})},exec:function(e,t){var n;for(n=0;n<c[e].length;n++)c[e][n].func(t)}},h="ontouchstart"in t;a=e.proxy(function(t){var n=e(t.target);d.clearState(),d.touches.start=u.getTouches(t),d.events.start=t,d.timestamp=(new Date).getTime(),d.events.start=t,d.offset=n.offset(),c.exec("start",t)},this),o=e.proxy(function(e){d.timestamp&&(d.touches.move=u.getTouches(e),d.events.move=e,c.exec("move",e))},this),s=e.proxy(function(e){d.timestamp&&(d.touches.end=u.getTouches(e),d.events.end=e,c.exec("end",e),d.prevGesture=d.gesture,d.clearState())},this);var f=d;c.add("end","swipe",function(t){var n,r=(new Date).getTime()-f.timestamp;f.touches.move&&(n=l.getDistance(f.touches.start[0],f.touches.move[0]),300>r&&30<n&&(r=l.getAngle(f.touches.start[0],f.touches.move[0]),r=l.getDirection(r),f.gesture="swipe",e(t.target).trigger(e.Event("swipe",{originalEvent:t.originalEvent,direction:r,touches:e.extend(!0,{},f.touches)}))))});var p,m,_,y,t=c,g=d;t.add("end","tap",function(t){var n=(new Date).getTime(),r=n-g.timestamp,i=e(t.target);500<r||(t=g.events.start.originalEvent,r=t,m&&"tap"===g.prevGesture&&300>g.timestamp-_&&m&&g.touches.start&&20>l.getDistance(m[0],g.touches.start[0])?(g.gesture="doubletap",_=null,e(r.target).trigger(e.Event("doubletap",{originalEvent:r})),r=!0):r=!1,r||(p=g.touches.move?l.getDistance(g.touches.start[0],g.touches.move[0]):0,10>p&&(g.gesture="tap",_=n,m=g.touches.start,u.hasEvent(i,"doubletap")?setTimeout(function(){m&&"doubletap"!==g.prevGesture&&300<(new Date).getTime()-_&&i.trigger(e.Event("tap",{originalEvent:t}))},300):i.trigger(e.Event("tap",{originalEvent:t})))))}),t.add("none","doubletap",e.noop),t.add("start","taphold",function(t){g.gesture="taphold",clearTimeout(y),y=setTimeout(function(){g.touches.start&&!g.touches.end&&(p=g.touches.move?l.getDistance(g.touches.start[0],g.touches.move[0]):0,10>p&&"taphold"===g.gesture&&e(t.target).trigger(e.Event("taphold",{originalEvent:g.events.start?g.events.start.originalEvent:t.originalEvent})))},500)});var v,t=c,M=d,w=!1;t.add("move","transform",function(t){var n,r,i=e(t.target);2===M.touches.move.length&&(n=l.getRotation(M.touches.start,M.touches.move),r=l.getScale(M.touches.start,M.touches.move),"transform"===M.gesture||.1<Math.abs(1-r)||15<Math.abs(n))&&(M.gesture="transform",v={pageX:(M.touches.move[0].pageX+M.touches.move[1].pageX)/2-M.offset.left,pageY:(M.touches.move[0].pageY+M.touches.move[1].pageY)/2-M.offset.top},w||(i.trigger(e.Event("transformstart",{originalEvent:t.originalEvent,center:v,scale:r,rotation:n})),w=!0),i.trigger(e.Event("transform",{originalEvent:t.originalEvent,center:v,scale:r,rotation:n})))}),t.add("end","transformend",function(t){var n,r,i=e(t.target);"transform"===M.gesture&&(n=l.getRotation(M.touches.start,M.touches.move),r=l.getScale(M.touches.start,M.touches.move),i.trigger(e.Event("transformend",{originalEvent:t.originalEvent,center:v,scale:r,rotation:n})),w=!1)})}(jQuery,window),function(e,t,n){t[e]=n.call(t),"undefined"!=typeof module&&module.exports?module.exports=t[e]:"function"==typeof define&&define.amd&&define(function(){return t[e]})}("Primus",this,function(){"use strict";function e(){this._events={}}function t(e,t){if(!(e instanceof n)){var r=new Error("Primus#"+t+"'s context should called with a Primus instance");if("function"!=typeof e.listeners||!e.listeners("error").length)throw r;e.emit("error",r)}}function n(t,a){if(!(this instanceof n))return new n(t,a);if("function"!=typeof this.client){var o="The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details";return this.critical(new Error(o))}"object"==typeof t?(a=t,t=a.url||a.uri||r):a=a||{};var s=this;a.queueSize="queueSize"in a?a.queueSize:1/0,a.timeout="timeout"in a?a.timeout:1e4,a.reconnect="reconnect"in a?a.reconnect:{},a.ping="ping"in a?a.ping:25e3,a.pong="pong"in a?a.pong:1e4,a.strategy="strategy"in a?a.strategy:[],a.transport="transport"in a?a.transport:{},s.buffer=[],s.writable=!0,s.readable=!0,s.url=s.parse(t||r),s.readyState=n.CLOSED,s.options=a,s.timers={},s.attempt=null,s.socket=null,s.latency=0,s.transport=a.transport,s.transformers={outgoing:[],incoming:[]},"string"==typeof a.strategy&&(a.strategy=a.strategy.split(/\s?\,\s?/g)),!1===a.strategy?a.strategy=[]:a.strategy.length||(a.strategy.push("disconnect","online"),this.authorization||a.strategy.push("timeout")),a.strategy=a.strategy.join(",").toLowerCase(),i||e.call(s),"websockets"in a&&(s.AVOID_WEBSOCKETS=!a.websockets),"network"in a&&(s.NETWORK_EVENTS=a.network),a.manual||(s.timers.open=setTimeout(function(){s.clearTimeout("open").open()},0)),s.initialise(a)}e.prototype.listeners=function(e){return Array.apply(this,this._events[e]||[])},e.prototype.emit=function(e,t,n,r,i,a){if(!this._events||!this._events[e])return!1;var o,s,u=this._events[e],l=u.length,d=arguments.length,c=u[0];if(1===l){switch(d){case 1:c.call(c.context||this);break;case 2:c.call(c.context||this,t);break;case 3:c.call(c.context||this,t,n);break;case 4:c.call(c.context||this,t,n,r);break;case 5:c.call(c.context||this,t,n,r,i);break;case 6:c.call(c.context||this,t,n,r,i,a);break;default:for(s=1,o=new Array(d-1);s<d;s++)o[s-1]=arguments[s];c.apply(c.context||this,o)}c.once&&this.removeListener(e,c)}else{for(s=1,o=new Array(d-1);s<d;s++)o[s-1]=arguments[s];for(s=0;s<l;c=u[++s])c.apply(c.context||this,o),c.once&&this.removeListener(e,c)}return!0},e.prototype.on=function(e,t,n){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),t.context=n,this._events[e].push(t),this},e.prototype.once=function(e,t,n){return t.once=!0,this.on(e,t,n)},e.prototype.removeListener=function(e,t){if(!this._events||!this._events[e])return this;for(var n=this._events[e],r=[],i=0,a=n.length;i<a;i++)t&&n[i]!==t&&n[i].fn!==t&&r.push(n[i]);return r.length?this._events[e]=r:this._events[e]=null,this},e.prototype.removeAllListeners=function(e){return this._events?(e?this._events[e]=null:this._events={},this):this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this};var r;try{r=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(e){r="http://127.0.0.1"}n.require=function(e){if("function"==typeof require)return"function"==typeof define&&define.amd?void 0:require(e)};var i,a;try{n.Stream=i=n.require("stream"),a=n.require("url").parse,n.require("util").inherits(n,i)}catch(t){n.Stream=e,n.prototype=new e,a=function(e){var t,n=document.createElement("a"),r={};n.href=e;for(t in n)"string"!=typeof n[t]&&"number"!=typeof n[t]||(r[t]=n[t]);if(r.port||(r.href||(r.href=""),(r.href.match(/\:/g)||[]).length>1?r.port=r.href.split(":")[2].split("/")[0]:r.port="https"===r.href.substr(0,5)?443:80),"0"===r.port&&(r.port=""),~r.href.indexOf("@")&&!r.auth){var i=r.protocol.length+2;r.auth=r.href.slice(i,r.href.indexOf(r.pathname,i)).split("@")[0]}return r}}n.OPENING=1,n.CLOSED=2,n.OPEN=3,n.prototype.AVOID_WEBSOCKETS=!1,n.prototype.NETWORK_EVENTS=!1,n.prototype.online=!0;try{(n.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(n.prototype.online=!1))}catch(e){}if(n.prototype.ark={},n.prototype.plugin=function(e){if(t(this,"plugin"),e)return this.ark[e];var n={};for(e in this.ark)n[e]=this.ark[e];return n},n.prototype.reserved=function(e){return/^(incoming|outgoing)::/.test(e)||e in this.reserved.events},n.prototype.reserved.events={readyStateChange:1,reconnecting:1,reconnect:1,offline:1,timeout:1,online:1,error:1,close:1,open:1,data:1,end:1},n.prototype.initialise=function(e){function t(){a.online&&(a.online=!1,a.emit("offline"),a.end())}function r(){a.online||(a.online=!0,a.emit("online"),~a.options.strategy.indexOf("online")&&a.reconnect())}var i,a=this;a.on("outgoing::open",function(){var e=a.readyState;a.readyState=n.OPENING,e!==n.OPENING&&a.emit("readyStateChange"),i=+new Date}),a.on("incoming::open",function(){a.attempt&&(a.attempt=null),a.writable=!0,a.readable=!0;var e=a.readyState;if(a.readyState=n.OPEN,e!==n.OPEN&&a.emit("readyStateChange"),a.emit("open"),a.clearTimeout("ping","pong").heartbeat(),a.buffer.length){for(var t=0,r=a.buffer.length;t<r;t++)a.write(a.buffer[t]);a.buffer=[]}a.latency=+new Date-i}),a.on("incoming::pong",function(e){a.online=!0,a.clearTimeout("pong").heartbeat(),a.latency=+new Date-e}),a.on("incoming::error",function(e){var t=a.timers.connect;return a.attempt?a.reconnect():(a.listeners("error").length&&a.emit("error",e),void(t&&(~a.options.strategy.indexOf("timeout")?a.reconnect():a.end())));
}),a.on("incoming::data",function(e){a.decoder(e,function(t,n){if(t)return a.listeners("error").length&&a.emit("error",t);if(!a.protocol(n)){for(var r=0,i=a.transformers.incoming.length;r<i;r++){var o={data:n};if(!1===a.transformers.incoming[r].call(a,o))return;n=o.data}a.emit("data",n,e)}})}),a.on("incoming::end",function(){var e=a.readyState;if(a.readyState=n.CLOSED,e!==n.CLOSED&&a.emit("readyStateChange"),a.timers.connect&&a.end(),e===n.OPEN){this.writable=!1,this.readable=!1;for(var t in this.timers)this.clearTimeout(t);if(a.emit("close"),~a.options.strategy.indexOf("disconnect"))return a.reconnect();a.emit("outgoing::end"),a.emit("end")}}),a.client();for(var o in a.ark)a.ark[o].call(a,a,e);return a.NETWORK_EVENTS?(window.addEventListener?(window.addEventListener("offline",t,!1),window.addEventListener("online",r,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",t),document.body.attachEvent("ononline",r)),a):a},n.prototype.protocol=function(e){if("string"!=typeof e||0!==e.indexOf("primus::"))return!1;var t=e.indexOf(":",8),n=e.slice(t+2);switch(e.slice(8,t)){case"pong":this.emit("incoming::pong",n);break;case"server":"close"===n&&this.end();break;case"id":this.emit("incoming::id",n);break;default:return!1}return!0},n.prototype.id=function(e){return this.socket&&this.socket.id?e(this.socket.id):(this.write("primus::id::"),this.once("incoming::id",e))},n.prototype.open=function(){return t(this,"open"),!this.attempt&&this.options.timeout&&this.timeout(),this.emit("outgoing::open")},n.prototype.write=function(e){var r,i=this;if(t(i,"write"),n.OPEN===i.readyState){for(var a=0,o=i.transformers.outgoing.length;a<o;a++){if(r={data:e},!1===i.transformers.outgoing[a].call(i,r))return;e=r.data}i.encoder(e,function(e,t){return e?i.listeners("error").length&&i.emit("error",e):void i.emit("outgoing::data",t)})}else{var s=i.buffer;s.length===i.options.queueSize&&s.splice(0,1),s.push(e)}return!0},n.prototype.heartbeat=function(){function e(){n.clearTimeout("pong"),n.online&&(n.online=!1,n.emit("offline"),n.emit("incoming::end"))}function t(){n.clearTimeout("ping").write("primus::ping::"+ +new Date),n.emit("outgoing::ping"),n.timers.pong=setTimeout(e,n.options.pong)}var n=this;return n.options.ping?void(n.timers.ping=setTimeout(t,n.options.ping)):n},n.prototype.timeout=function(){function e(){t.removeListener("error",e).removeListener("open",e).removeListener("end",e).clearTimeout("connect")}var t=this;return t.timers.connect=setTimeout(function(){e(),t.readyState===n.OPEN||t.attempt||(t.emit("timeout"),~t.options.strategy.indexOf("timeout")?t.reconnect():t.end())},t.options.timeout),t.on("error",e).on("open",e).on("end",e)},n.prototype.clearTimeout=function(){for(var e=arguments,t=0,n=e.length;t<n;t++)this.timers[e[t]]&&clearTimeout(this.timers[e[t]]),delete this.timers[e[t]];return this},n.prototype.backoff=function(e,t){t=t||{};var n=this;return t.backoff?n:(t.maxDelay="maxDelay"in t?t.maxDelay:1/0,t.minDelay="minDelay"in t?t.minDelay:500,t.retries="retries"in t?t.retries:10,t.attempt=(+t.attempt||0)+1,t.factor="factor"in t?t.factor:2,t.attempt>t.retries?(e(new Error("Unable to retry"),t),n):(t.backoff=!0,t.timeout=1!==t.attempt?Math.min(Math.round((Math.random()+1)*t.minDelay*Math.pow(t.factor,t.attempt)),t.maxDelay):t.minDelay,n.emit("reconnecting",t),n.timers.reconnect=setTimeout(function(){t.backoff=!1,n.clearTimeout("reconnect"),e(void 0,t)},t.timeout),n))},n.prototype.reconnect=function(){var e=this;return e.attempt=e.attempt||e.clone(e.options.reconnect),e.backoff(function(t,n){return t?(e.attempt=null,e.emit("end")):(e.emit("reconnect",n),void e.emit("outgoing::reconnect"))},e.attempt),e},n.prototype.end=function(e){if(t(this,"end"),this.readyState===n.CLOSED&&!this.timers.connect)return this;e&&this.write(e),this.writable=!1,this.readable=!1;var r=this.readyState;this.readyState=n.CLOSED,r!==n.CLOSED&&this.emit("readyStateChange");for(var i in this.timers)this.clearTimeout(i);return this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},n.prototype.clone=function(e){return this.merge({},e)},n.prototype.merge=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1),i=0,a=r.length;i<a;i++){n=r[i];for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},n.prototype.parse=a,n.prototype.querystring=function(e){for(var t,n=/([^=?&]+)=([^&]*)/g,r={};t=n.exec(e);r[t[1]]=t[2]);return r},n.prototype.uri=function(e,t){var n=this.url,r=[];return"string"==typeof e&&(e={protocol:e},t&&(e.query=t)),e=e||{},e.protocol="protocol"in e?e.protocol:"http",e.query=!!(n.search&&"query"in e)&&("?"===n.search.charAt(0)?n.search.slice(1):n.search),e.secure="secure"in e?e.secure:"https:"===n.protocol,e.auth="auth"in e?e.auth:n.auth,e.pathname="pathname"in e?e.pathname:this.pathname.slice(1),e.port="port"in e?e.port:n.port||(e.secure?443:80),e.host="host"in e?e.host:n.hostname||n.host.replace(":"+n.port,""),this.emit("outgoing::url",e),r.push(e.secure?e.protocol+"s:":e.protocol+":",""),e.auth?r.push(e.auth+"@"+n.host):r.push(n.host),e.pathname&&r.push(e.pathname),e.query&&r.push("?"+e.query),e.object?e:r.join("/")},n.prototype.emits=function(e,t){var n=this;return function(r){var i=t?t.apply(n,arguments):r;setTimeout(function(){n.emit("incoming::"+e,i)},0)}},n.prototype.transform=function(e,n){return t(this,"transform"),e in this.transformers?(this.transformers[e].push(n),this):this.critical(new Error("Invalid transformer type"))},n.prototype.critical=function(e){if(this.listeners("error").length)return this.emit("error",e),this;throw e},n.connect=function(e,t){return new n(e,t)},n.EventEmitter=e,n.prototype.client=function(){var e,t=this,r=function(){if("undefined"!=typeof SockJS)return SockJS;try{return n.require("sockjs-client-node")}catch(e){}}();return r?(t.on("outgoing::open",function(){e&&e.close(),t.socket=e=new r(t.uri({protocol:"http"}),null,t.merge(t.transport,{info:{websocket:!t.AVOID_WEBSOCKETS,cookie_needed:!0}})),e.onopen=t.emits("open"),e.onerror=t.emits("error"),e.onclose=function(e){var n=e&&1002===e.code?"error":"end";setTimeout(function(){t.emit("incoming::"+n,e)},0)},e.onmessage=t.emits("data",function(e){return e.data})}),t.on("outgoing::data",function(t){e&&e.send(t)}),t.on("outgoing::reconnect",function(){e&&t.emit("outgoing::end"),t.emit("outgoing::open")}),void t.on("outgoing::end",function(){e&&(e.close(),e=null)})):t.critical(new Error("Missing required `sockjs-client-node` module. Please run `npm install --save sockjs-client-node`"))},n.prototype.authorization=!1,n.prototype.pathname="/socket",n.prototype.encoder=function(e,t){var n;try{e=JSON.stringify(e)}catch(e){n=e}t(n,e)},n.prototype.decoder=function(e,t){var n;try{e=JSON.parse(e)}catch(e){n=e}t(n,e)},n.prototype.version="2.1.4","object"==typeof JSON&&"function"==typeof JSON.stringify&&'["\u2028\u2029"]'===JSON.stringify(["\u2028\u2029"])&&(JSON.stringify=function(e){var t=/\u2028/g,n=/\u2029/g;return function(r,i,a){var o=e.call(this,r,i,a);return o&&(~o.indexOf("\u2028")&&(o=o.replace(t,"\\u2028")),~o.indexOf("\u2029")&&(o=o.replace(n,"\\u2029"))),o}}(JSON.stringify)),"undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault&&e.preventDefault()},!1);var o=(navigator.userAgent||"").toLowerCase(),s=o.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],u=+[s[1],s[2]].join(".");!~o.indexOf("chrome")&&~o.indexOf("safari")&&u<534.54&&(n.prototype.AVOID_WEBSOCKETS=!0)}return n.prototype.ark.emitter=function(){},n});var JSON;JSON||(JSON={}),function(){function str(e,t){var n,r,i,a,o,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;n<a;n+=1)o[n]=str(n,u)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,u),i&&o.push(quote(r)+(gap?": ":":")+i));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u),i&&o.push(quote(r)+(gap?": ":":")+i));return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],i=n.arrIndexOf(r,t);return i!==-1?void(r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var i=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};i.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;n.arrIndexOf(t._events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var o="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||o.length;var n,r=[];for(n=0;n<e;n++)r.push(o.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var s="_jp";n.polluteGlobalNamespace=function(){s in t||(t[s]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&e<=4999},n.countRTO=function(e){return e>100?4*e:300+e},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t){var r=e.location;if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");return 0===t.indexOf("//")&&(t=r.protocol+t),0===t.indexOf("/")&&(t=r.protocol+"//"+r.host+t),t=t.replace(/[\/]+$/,"")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var i=e.slice(0,r);return i.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\0":"\\u0000","\x01":"\\u0001","\x02":"\\u0002","\x03":"\\u0003","\x04":"\\u0004","\x05":"\\u0005","\x06":"\\u0006","\x07":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\x0B":"\\u000b","\f":"\\f","\r":"\\r","\x0e":"\\u000e","\x0f":"\\u000f","\x10":"\\u0010","\x11":"\\u0011","\x12":"\\u0012","\x13":"\\u0013","\x14":"\\u0014","\x15":"\\u0015","\x16":"\\u0016","\x17":"\\u0017","\x18":"\\u0018","\x19":"\\u0019","\x1a":"\\u001a","\x1b":"\\u001b","\x1c":"\\u001c","\x1d":"\\u001d","\x1e":"\\u001e","\x1f":"\\u001f",'"':'\\"',"\\":"\\\\","\x7f":"\\u007f","\x80":"\\u0080","\x81":"\\u0081","\x82":"\\u0082","\x83":"\\u0083","\x84":"\\u0084","\x85":"\\u0085","\x86":"\\u0086","\x87":"\\u0087","\x88":"\\u0088","\x89":"\\u0089","\x8a":"\\u008a","\x8b":"\\u008b","\x8c":"\\u008c","\x8d":"\\u008d","\x8e":"\\u008e","\x8f":"\\u008f","\x90":"\\u0090","\x91":"\\u0091","\x92":"\\u0092","\x93":"\\u0093","\x94":"\\u0094","\x95":"\\u0095","\x96":"\\u0096","\x97":"\\u0097","\x98":"\\u0098","\x99":"\\u0099","\x9a":"\\u009a","\x9b":"\\u009b","\x9c":"\\u009c","\x9d":"\\u009d","\x9e":"\\u009e","\x9f":"\\u009f","\xad":"\\u00ad","\u0600":"\\u0600","\u0601":"\\u0601","\u0602":"\\u0602","\u0603":"\\u0603","\u0604":"\\u0604","\u070f":"\\u070f","\u17b4":"\\u17b4","\u17b5":"\\u17b5","\u200c":"\\u200c","\u200d":"\\u200d","\u200e":"\\u200e","\u200f":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","\u202a":"\\u202a","\u202b":"\\u202b","\u202c":"\\u202c","\u202d":"\\u202d","\u202e":"\\u202e","\u202f":"\\u202f","\u2060":"\\u2060","\u2061":"\\u2061","\u2062":"\\u2062","\u2063":"\\u2063","\u2064":"\\u2064","\u2065":"\\u2065","\u2066":"\\u2066","\u2067":"\\u2067","\u2068":"\\u2068","\u2069":"\\u2069","\u206a":"\\u206a","\u206b":"\\u206b","\u206c":"\\u206c","\u206d":"\\u206d","\u206e":"\\u206e","\u206f":"\\u206f","\ufeff":"\\ufeff","\ufff0":"\\ufff0","\ufff1":"\\ufff1","\ufff2":"\\ufff2","\ufff3":"\\ufff3","\ufff4":"\\ufff4","\ufff5":"\\ufff5","\ufff6":"\\ufff6","\ufff7":"\\ufff7","\ufff8":"\\ufff8","\ufff9":"\\ufff9","\ufffa":"\\ufffa","\ufffb":"\\ufffb","\ufffc":"\\ufffc","\ufffd":"\\ufffd","\ufffe":"\\ufffe","\uffff":"\\uffff"},c=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,h=JSON&&JSON.stringify||function(e){return l.lastIndex=0,l.test(e)&&(e=e.replace(l,function(e){return d[e]})),'"'+e+'"'},f=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return c.lastIndex=0,c.test(t)?(u||(u=f(c)),t.replace(c,function(e){return u[e]})):t};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<p.length;t++){var n=p[t];e[n]=k[n]&&k[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},i=[];t||(t=p);for(var a=0;a<t.length;a++){var o=t[a];r[o]=e[o]}var s=function(e){var t=e.shift();r[t]?i.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?i.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):i.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?i.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):i.push("xdr-polling"),i};var m="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(m in t)){var r={};t[m]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[m](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var _={},y=!1,g=function(){for(var e in _)_[e](),delete _[e]},v=function(){y||(y=!0,g())};n.attachEvent("unload",v),n.unload_add=function(e){var t=n.random_string(8);return _[t]=e,y&&n.delay(g),t},n.unload_del=function(e){e in _&&delete _[e]},n.createIframe=function(t,r){var i,a,o=e.createElement("iframe"),s=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(a))},l=function(e){o&&(u(),r(e))},d=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(e){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){l("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){l("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){l("timeout")},15e3),a=n.unload_add(u),{post:d,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var i,a,o,u=new ActiveXObject("htmlfile"),l=function(){clearTimeout(i)},d=function(){u&&(l(),n.unload_del(a),o.parentNode.removeChild(o),o=u=null,CollectGarbage())},c=function(e){u&&(d(),r(e))},h=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(e){}};u.open(),u.write('<html><script>document.domain="'+document.domain+'";</script></html>'),u.close(),u.parentWindow[s]=t[s];var f=u.createElement("div");return u.body.appendChild(f),o=u.createElement("iframe"),f.appendChild(o),o.src=e,i=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(d),{post:h,cleanup:d,loaded:l}};var M=function(){};M.prototype=new a(["chunk","finish"]),M.prototype._start=function(e,r,i,a){var o=this;try{o.xhr=new XMLHttpRequest}catch(e){}if(!o.xhr)try{o.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +new Date),o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xhr.open(e,r,!0)}catch(e){return o.emit("finish",0,""),void o._cleanup()}if(a&&a.no_credentials||(o.xhr.withCredentials="true"),a&&a.headers)for(var s in a.headers)o.xhr.setRequestHeader(s,a.headers[s]);o.xhr.onreadystatechange=function(){if(o.xhr){var e=o.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&o.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),o.emit("finish",t,e.responseText),o._cleanup(!1)}}},o.xhr.send(i)},M.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(e){}t.unload_ref=t.xhr=null}},M.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new M;var b=n.XHRLocalObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r,{no_credentials:!0})})};b.prototype=new M;var L=n.XDRObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r)})};L.prototype=new a(["chunk","finish"]),L.prototype._start=function(e,t,r){var i=this,a=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +new Date;var o=a.ontimeout=a.onerror=function(){i.emit("finish",0,""),i._cleanup(!1)};a.onprogress=function(){i.emit("chunk",200,a.responseText)},a.onload=function(){i.emit("finish",200,a.responseText),i._cleanup(!1)},i.xdr=a,i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xdr.open(e,t),i.xdr.send(r)}catch(e){o()}},L.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(e){}t.unload_ref=t.xdr=null}},L.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:O.enabled()?3:4};var k=function(e,r,i){if(this===t)return new k(e,r,i);var a,o=this;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},i&&n.objectExtend(o._options,i),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?a=o._options.protocols_whitelist:(a="string"==typeof r&&r.length>0?[r]:n.isArray(r)?r:null,a&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=k.CONNECTING,o._ir=U(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,a),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};k.prototype=new r,k.version="0.3.4",k.CONNECTING=0,k.OPEN=1,k.CLOSING=2,k.CLOSED=3,k.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},k.prototype._dispatchOpen=function(){var e=this;e.readyState===k.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=k.OPEN,e.dispatchEvent(new i("open"))):e._didClose(1006,"Server lost session")},k.prototype._dispatchMessage=function(e){var t=this;t.readyState===k.OPEN&&t.dispatchEvent(new i("message",{data:e}))},k.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===k.OPEN&&e.dispatchEvent(new i("heartbeat",{}))},k.prototype._didClose=function(e,t,r){var a=this;if(a.readyState!==k.CONNECTING&&a.readyState!==k.OPEN&&a.readyState!==k.CLOSING)throw new Error("INVALID_STATE_ERR");a._ir&&(a._ir.nuke(),a._ir=null),a._transport&&(a._transport.doCleanup(),a._transport=null);var o=new i("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&a.readyState===k.CONNECTING&&!r){if(a._try_next_protocol(o))return;o=new i("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:o})}a.readyState=k.CLOSED,n.delay(function(){a.dispatchEvent(o)})},k.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=JSON.parse(e.slice(1)||"[]"),i=0;i<r.length;i++)t._dispatchMessage(r[i]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},k.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var i=r.protocol=r._protocols.shift();if(!i)return!1;if(k[i]&&k[i].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(i),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(k[i]&&k[i].enabled(r._options)){var a=k[i].roundTrips||1,o=(r._options.rto||0)*a||5e3;r._transport_tref=n.delay(o,function(){r.readyState===k.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",i," url:"+u," RTO:"+r._options.rto),r._transport=new k[i](r,u,r._base_url),!0}r._debug("Skipping transport:",i)}},k.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return(r.readyState===k.CONNECTING||r.readyState===k.OPEN)&&(r.readyState=k.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},k.prototype.send=function(e){var t=this;if(t.readyState===k.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===k.OPEN&&t._transport.doSend(n.quote(""+e)),!0},k.prototype._applyInfo=function(t,r,i){var a=this;a._options.info=t,a._options.rtt=r,a._options.rto=n.countRTO(r),a._options.info.null_origin=!e.domain;var o=n.probeProtocols();a._protocols=n.detectProtocols(o,i,t)};var Y=k.websocket=function(e,r){var i=this,a=r+"/websocket";a="https"===a.slice(0,5)?"wss"+a.slice(5):"ws"+a.slice(4),i.ri=e,i.url=a;var o=t.WebSocket||t.MozWebSocket;i.ws=new o(i.url),i.ws.onmessage=function(e){i.ri._didMessage(e.data)},i.ws.onerror=function(){e._didMessage(n.closeFrame(1006,"WebSocket connection broken"))},i.unload_ref=n.unload_add(function(){i.ws.close()}),i.ws.onclose=function(){i.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};Y.prototype.doSend=function(e){this.ws.send("["+e+"]")},Y.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=t.onerror=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},Y.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},Y.roundTrips=2;var T=function(){};T.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},T.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},T.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},T.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},T.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var x=function(t,r,i){var a=this;if(!("_send_form"in a)){var o=a._send_form=e.createElement("form"),s=a._send_area=e.createElement("textarea");s.name="d",o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",o.appendChild(s),e.body.appendChild(o)}var o=a._send_form,s=a._send_area,u="a"+n.random_string(8);o.target=u,o.action=t+"/jsonp_send?i="+u;var l;try{l=e.createElement('<iframe name="'+u+'">')}catch(t){l=e.createElement("iframe"),l.name=u}l.id=u,o.appendChild(l),l.style.display="none";try{s.value=r}catch(e){n.log("Your browser is seriously broken. Go home! "+e.message)}o.submit();var d=function(){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,n.delay(500,function(){l.parentNode.removeChild(l),l=null}),s.value="",i(!0))};return l.onerror=l.onload=d,l.onreadystatechange=function(){"complete"==l.readyState&&d()},d},D=function(e){return function(t,n,r){var i=new e("POST",t+"/xhr_send",n);return i.onfinish=function(e){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},S=function(t,r){var i,a,o=e.createElement("script"),s=function(e){a&&(a.parentNode.removeChild(a),a=null),o&&(clearTimeout(i),o.parentNode.removeChild(o),o.onreadystatechange=o.onerror=o.onload=o.onclick=null,o=null,r(e),r=null)},u=!1,l=null;if(o.id="a"+n.random_string(8),o.src=t,o.type="text/javascript",o.charset="UTF-8",o.onerror=function(){l||(l=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},o.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},o.onreadystatechange=function(){if(/loaded|closed/.test(o.readyState)){if(o&&o.htmlFor&&o.onclick){u=!0;try{o.onclick()}catch(e){}}o&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof o.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+o.id+"'); if(a)a.onerror();}catch(x){};",o.async=a.async=!1;else{try{o.htmlFor=o.id,o.event="onclick"}catch(e){}o.async=!0}"undefined"!=typeof o.async&&(o.async=!0),i=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(o,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},$=k["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(x),r._schedule_recv()};$.prototype=new T,$.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=j(e.trans_url+"/jsonp",S,t)},$.enabled=function(){return!0},$.need_body=!0,$.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var j=function(e,r,i){var a="a"+n.random_string(6),o=e+"?c="+escape(s+"."+a),u=0,l=function(e){switch(u){case 0:delete t[s][a],i(e);break;case 1:i(e),u=2;break;case 2:delete t[s][a]}},d=r(o,l);t[s][a]=d;var c=function(){t[s][a]&&(u=1,t[s][a](n.closeFrame(1e3,"JSONP user aborted read")))};return c},E=function(){};E.prototype=new T,E.prototype.run=function(e,t,n,r,i){var a=this;a.ri=e,a.trans_url=t,a.send_constructor(D(i)),a.poll=new K(e,r,t+n,i)},E.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var H=k["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XHRCorsObject)};H.prototype=new E,H.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},H.roundTrips=2,H.need_body=!0;var A=k["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XDRObject)};A.prototype=new E,A.enabled=function(){return!!t.XDomainRequest},A.roundTrips=2;var C=k["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRCorsObject)};C.prototype=new E,C.enabled=H.enabled,C.roundTrips=2;var P=k["xdr-polling"]=function(e,t){
this.run(e,t,"/xhr",re,n.XDRObject)};P.prototype=new E,P.enabled=A.enabled,P.roundTrips=2;var O=function(){};O.prototype.i_constructor=function(e,t,r){var i=this;i.ri=e,i.origin=n.getOrigin(r),i.base_url=r,i.trans_url=t;var a=r+"/iframe.html";i.ri._options.devel&&(a+="?t="+ +new Date),i.window_id=n.random_string(8),a+="#"+i.window_id,i.iframeObj=n.createIframe(a,function(e){i.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),i.onmessage_cb=n.bind(i.onmessage,i),n.attachMessage(i.onmessage_cb)},O.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(e){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},O.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),i=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([k.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(i)}}},O.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},O.prototype.doSend=function(e){this.postMessage("m",e)},O.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var N,F=function(e,r){parent!==t?parent.postMessage(N+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},W=function(){};W.prototype._didClose=function(e,t){F("t",n.closeFrame(e,t))},W.prototype._didMessage=function(e){F("t",e)},W.prototype._doSend=function(e){this._transport.doSend(e)},W.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,k.bootstrap_iframe=function(){var r;N=e.location.hash.slice(1);var i=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var i=e.data.slice(0,8),a=e.data.slice(8,9),o=e.data.slice(9);if(i===N)switch(a){case"s":var s=JSON.parse(o),u=s[0],l=s[1],d=s[2],c=s[3];if(u!==k.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+k.version+'".'),!n.flatUrl(d)||!n.flatUrl(c))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(c))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,d,c])+")");r=new W,r._transport=new W[l](r,d,c);break;case"m":r._doSend(o);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(i),F("s")};var R=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};R.prototype=new a(["finish"]),R.prototype.doXhr=function(e,t){var r=this,i=(new Date).getTime(),a=new t("GET",e+"/info"),o=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(o),o=null,200===e){var n=(new Date).getTime()-i,a=JSON.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var I=function(t){var r=this,i=function(){var e=new O;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),i=n[0],a=n[1];r.emit("finish",i,a)}else r.emit("finish");e.doCleanup(),e=null},i={_options:{},_didClose:n,_didMessage:n};e.i_constructor(i,t,t)};e.body?i():n.attachEvent("load",i)};I.prototype=new a(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new a(["finish"]);var U=function(e){if(n.isSameOriginUrl(e))return new R(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new R(e,n.XHRLocalObject);case 2:return new R(e,n.XDRObject);case 3:return new I(e);default:return new z}},q=W["w-iframe-info-receiver"]=function(e,t,r){var i=new R(r,n.XHRLocalObject);i.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};q.prototype.doCleanup=function(){};var J=k["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};J.prototype=new O,J.enabled=function(){return"EventSource"in t&&O.enabled()},J.need_body=!0,J.roundTrips=3;var V=W["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};V.prototype=new E;var B=k["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};B.prototype=new O,B.enabled=function(){return t.XMLHttpRequest&&O.enabled()},B.need_body=!0,B.roundTrips=3;var G=W["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRLocalObject)};G.prototype=new E;var Q=k["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new O,Q.enabled=function(){return O.enabled()},Q.need_body=!0,Q.roundTrips=3;var X=W["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",ne,n.XHRLocalObject)};X.prototype=new E;var K=function(e,t,n,r){var i=this;i.ri=e,i.Receiver=t,i.recv_url=n,i.AjaxObject=r,i._scheduleRecv()};K.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},K.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new i("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,a){var o=a?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new i("close",{reason:o}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var ee,te=function(){if(void 0===ee)if("ActiveXObject"in t)try{ee=!!new ActiveXObject("htmlfile")}catch(e){}else ee=!1;return ee},ne=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(s+"."+r.id);var a,o=te()?n.createHtmlfile:n.createIframe;t[s][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new i("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[s][r.id],r.dispatchEvent(new i("close",{reason:n}))},a=o(e,function(){r.iframe_close({},"permanent")})};ne.prototype=new r,ne.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var re=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var a=t.slice(r),o=a.indexOf("\n");if(o===-1)break;r+=o+1;var s=a.slice(0,o);n.dispatchEvent(new i("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new i("close",{reason:r}))}};return re.prototype=new r,re.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new i("close",{reason:"user"})),e.xo=null)},k.getUtils=function(){return n},k.getIframeTransport=function(){return O},k}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS}),function(e,t){function n(e,t){"use strict";function n(e){return"newListener"===e?this:(this.emitter.send.apply(this.emitter,arguments),this)}var r=e.prototype.initialise;return e.prototype.initialise=function(){this.emitter||(this.emitter=new t(this)),this.__initialise||r.apply(this,arguments)},e.readable?void(e.prototype.send||e.readable("send",n)):e.prototype.send=n}function r(){"use strict";function e(t){return this instanceof e?(this.ids=1,this.acks={},this.conn=t,void(this.conn&&this.bind())):new e(t)}var t={EVENT:0,ACK:1},n=[].slice;return e.prototype.bind=function(){var e=this;return this.conn.on("data",function(t){e.ondata.call(e,t)}),this},e.prototype.ondata=function(e){switch(e.type){case t.EVENT:this.onevent(e);break;case t.ACK:this.onack(e)}},e.prototype.send=function(){var e=n.call(arguments);return this.conn.write(this.packet(e)),this},e.prototype.packet=function e(n){var e={type:t.EVENT,data:n};if("function"==typeof n[n.length-1]){var r=this.ids++;this.acks&&(this.acks[r]=n.pop(),e.id=r)}return e},e.prototype.onevent=function(e){var t=e.data||[];return null!=e.id&&t.push(this.ack(e.id)),this.conn.reserved(t[0])?this:(this.conn.emit.apply(this.conn,t),this)},e.prototype.ack=function(e){var r=this.conn,i=!1;return function(){i||r.write({id:e,type:t.ACK,data:n.call(arguments)})}},e.prototype.onack=function(e){var t=this.acks[e.id];return"function"==typeof t?(t.apply(this,e.data),delete this.acks[e.id]):console.log("bad ack %s",e.id),this},e.packets=t,e}t!==e&&(e.$=e.$||{},e.$.emitter={},e.$.emitter.spark=n,e.$.emitter.emitter=r,n(e,r()))}(Primus),function(){this.Wallwisher={Routers:{},Models:{},Collections:{},Views:{},Lib:{},environment:$("html").data("environment"),writesEnabled:$device.cookies,deviceId:Cookies.get("ww_d"),variant:$(document.body).attr("ww-app-variant").split(" "),baseUrl:"https://padlet.com",logger:function(e,t,n){return $.ajax({url:"/log-error",type:"POST",data:{klass:e,message:t,extra:n}})}},this.ww||(this.ww={}),ww.$state=Wallwisher,$(function(){var e,t;if(t=$(document.body).attr("ww-app-variant"),(t.match("ios")||t.match("android"))&&window.location.pathname.indexOf("beethoven/attach")===-1&&window.location.pathname.indexOf("mobile-app/attach")===-1&&window.self===window.top)return null!=(e=ww.nativeBridge)&&"function"==typeof e.addMessageHandler&&e.addMessageHandler("refresh_padlet",function(){return $(document).trigger("padlet:refresh")}),ww.nativeBridge.postMessage({message_type:"page_ready"},function(){return window.location.href="https://padlet.com/ios-app/page-ready"})})}.call(this),function(e){var t={version:"1.0.2",protocol:location.protocol.match(/https/i)?"https":"http",swfURL:"",loaded:!1,live:!1,userMedia:!0,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,force_flash:!1,flip_horiz:!1,fps:30},hooks:{},init:function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.URL=e.URL||e.webkitURL||e.mozURL||e.msURL,this.userMedia=this.userMedia&&!!navigator.getUserMedia&&!!e.URL,navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null)},attach:function(n){if("string"==typeof n&&(n=document.getElementById(n)||document.querySelector(n)),!n)return this.dispatch("error","Could not locate DOM element to attach to.");this.container=n,n.innerHTML="";var r=document.createElement("div");n.appendChild(r),this.peg=r,this.params.width||(this.params.width=n.offsetWidth),this.params.height||(this.params.height=n.offsetHeight),this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.params.force_flash&&(this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var i=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var o=document.createElement("video");o.setAttribute("autoplay","autoplay"),o.style.width=""+this.params.dest_width+"px",o.style.height=""+this.params.dest_height+"px",1==i&&1==a||(n.style.overflow="hidden",o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+i+") scaleY("+a+")",o.style.mozTransform="scaleX("+i+") scaleY("+a+")",o.style.msTransform="scaleX("+i+") scaleY("+a+")",o.style.oTransform="scaleX("+i+") scaleY("+a+")",o.style.transform="scaleX("+i+") scaleY("+a+")"),n.appendChild(o),this.video=o;var s=this;navigator.getUserMedia({audio:!1,video:{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}},function(n){o.src=e.URL.createObjectURL(n)||n,t.stream=n,t.loaded=!0,t.live=!0,t.dispatch("load"),t.dispatch("live"),t.flip()},function(){return s.dispatch("error","Could not access webcam.")})}else{e.Webcam=t;var u=document.createElement("div");u.innerHTML=this.getSWFHTML(),n.appendChild(u)}if(this.params.crop_width&&this.params.crop_height){var l=Math.floor(this.params.crop_width*i),d=Math.floor(this.params.crop_height*a);n.style.width=""+l+"px",n.style.height=""+d+"px",n.style.overflow="hidden",n.scrollLeft=Math.floor(this.params.width/2-l/2),n.scrollTop=Math.floor(this.params.height/2-d/2)}else n.style.width=""+this.params.width+"px",n.style.height=""+this.params.height+"px"},reset:function(){if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){try{this.stream.stop()}catch(e){}delete this.stream,delete this.video}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1},set:function(){if(1==arguments.length)for(var e in arguments[0])this.params[e]=arguments[0][e];else this.params[arguments[0]]=arguments[1]},on:function(e,t){e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)},off:function(e,t){if(e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e])if(t){var n=this.hooks[e].indexOf(t);n>-1&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]},dispatch:function(){var t=arguments[0].replace(/^on/i,"").toLowerCase(),n=Array.prototype.slice.call(arguments,1);if(this.hooks[t]&&this.hooks[t].length){for(var r=0,i=this.hooks[t].length;r<i;r++){var a=this.hooks[t][r];"function"==typeof a?a.apply(this,n):"object"==typeof a&&2==a.length?a[0][a[1]].apply(a[0],n):e[a]&&e[a].apply(e,n)}return!0}return"error"==t&&alert("Webcam.js Error: "+n[0]),!1},setSWFLocation:function(e){this.swfURL=e},detectFlash:function(){var t="Shockwave Flash",n="ShockwaveFlash.ShockwaveFlash",r="application/x-shockwave-flash",i=e,a=navigator,o=!1;if("undefined"!=typeof a.plugins&&"object"==typeof a.plugins[t]){var s=a.plugins[t].description;s&&"undefined"!=typeof a.mimeTypes&&a.mimeTypes[r]&&a.mimeTypes[r].enabledPlugin&&(o=!0)}else if("undefined"!=typeof i.ActiveXObject)try{var u=new ActiveXObject(n);if(u){var l=u.GetVariable("$version");l&&(o=!0)}}catch(e){}return o},getSWFHTML:function(){var t="";if(location.protocol.match(/file/))return this.dispatch("error","Flash does not work from local disk.  Please run from a web server."),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error","Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again."),'<h3 style="color:red">ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).</h3>';if(!this.swfURL){for(var n="",r=document.getElementsByTagName("script"),i=0,a=r.length;i<a;i++){var o=r[i].getAttribute("src");o&&o.match(/\/webcam(\.min)?\.js/)&&(n=o.replace(/\/webcam(\.min)?\.js.*$/,""),i=a)}n?this.swfURL=n+"/webcam.swf":this.swfURL="webcam.swf"}e.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var s="";for(var u in this.params)s&&(s+="&"),s+=u+"="+escape(this.params[u]);return t+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+this.swfURL+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+s+'"/><embed id="webcam_movie_embed" src="'+this.swfURL+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+s+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error","Flash Movie is not loaded yet");var e=document.getElementById("webcam_movie_obj");return e&&e._snap||(e=document.getElementById("webcam_movie_embed")),e||this.dispatch("error","Cannot locate Flash movie in DOM"),e},freeze:function(){var e=this,t=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,r=this.params.height/this.params.dest_height;this.unflip();var i=t.crop_width||t.dest_width,a=t.crop_height||t.dest_height,o=document.createElement("canvas");o.width=i,o.height=a;var s=o.getContext("2d");this.preview_canvas=o,this.preview_context=s,1==n&&1==r||(o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+n+") scaleY("+r+")",o.style.mozTransform="scaleX("+n+") scaleY("+r+")",o.style.msTransform="scaleX("+n+") scaleY("+r+")",o.style.oTransform="scaleX("+n+") scaleY("+r+")",o.style.transform="scaleX("+n+") scaleY("+r+")"),this.snap(function(){o.style.position="relative",o.style.left=""+e.container.scrollLeft+"px",o.style.top=""+e.container.scrollTop+"px",e.container.insertBefore(o,e.peg),e.container.style.overflow="hidden",e.preview_active=!0},o)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(-1)",e.mozTransform="scaleX(-1)",e.msTransform="scaleX(-1)",e.oTransform="scaleX(-1)",e.transform="scaleX(-1)",e.filter="FlipH",e.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(1)",e.mozTransform="scaleX(1)",e.msTransform="scaleX(1)",e.oTransform="scaleX(1)",e.transform="scaleX(1)",e.filter="",e.msFilter=""}},savePreview:function(e,t){var n=this.params,r=this.preview_canvas,i=this.preview_context;if(t){var a=t.getContext("2d");a.drawImage(r,0,0)}e(t?null:r.toDataURL("image/"+n.image_format,n.jpeg_quality/100),r,i),this.unfreeze()},snap:function(e,t){var n=this.params;if(!this.loaded)return this.dispatch("error","Webcam is not loaded yet");if(!e)return this.dispatch("error","Please provide a callback function or canvas to snap()");if(this.preview_active)return this.savePreview(e,t),null;var r=document.createElement("canvas");r.width=this.params.dest_width,r.height=this.params.dest_height;var i=r.getContext("2d");this.params.flip_horiz&&(i.translate(n.dest_width,0),i.scale(-1,1));var a=function(){if(this.src&&this.width&&this.height&&i.drawImage(this,0,0,n.dest_width,n.dest_height),n.crop_width&&n.crop_height){var a=document.createElement("canvas");a.width=n.crop_width,a.height=n.crop_height;var o=a.getContext("2d");o.drawImage(r,Math.floor(n.dest_width/2-n.crop_width/2),Math.floor(n.dest_height/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),i=o,r=a}if(t){var s=t.getContext("2d");s.drawImage(r,0,0)}e(t?null:r.toDataURL("image/"+n.image_format,n.jpeg_quality/100),r,i)};if(this.userMedia)i.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),a();else{var o=this.getMovie()._snap(),s=new Image;s.onload=a,s.src="data:image/"+this.params.image_format+";base64,"+o}return null},configure:function(e){e||(e="camera"),this.getMovie()._configure(e)},flashNotify:function(e,t){switch(e){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live"),this.flip();break;case"error":this.dispatch("error",t)}},b64ToUint6:function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},base64DecToArr:function(e,t){for(var n,r,i=e.replace(/[^A-Za-z0-9\+\/]/g,""),a=i.length,o=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,s=new Uint8Array(o),u=0,l=0,d=0;d<a;d++)if(r=3&d,u|=this.b64ToUint6(i.charCodeAt(d))<<18-6*r,3===r||a-d===1){for(n=0;n<3&&l<o;n++,l++)s[l]=u>>>(16>>>n&24)&255;u=0}return s},upload:function(e,n,r){var i="webcam",a="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";a=RegExp.$1;var o=e.replace(/^data\:image\/\w+\;base64\,/,""),s=new XMLHttpRequest;s.open("POST",n,!0),s.upload&&s.upload.addEventListener&&s.upload.addEventListener("progress",function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.dispatch("uploadProgress",n,e)}},!1);var u=this;s.onload=function(){r&&r.apply(u,[s.status,s.responseText,s.statusText]),t.dispatch("uploadComplete",s.status,s.responseText,s.statusText)};var l=new Blob([this.base64DecToArr(o)],{type:"image/"+a}),d=new FormData;d.append(i,l,i+"."+a.replace(/e/,"")),s.send(d)}};t.init(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.Webcam=t}(window),function(){(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(e){var t;return t=document.head.querySelector("meta[name='action-cable-"+e+"']"),null!=t?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?(t=document.createElement("a"),t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(this);var e=this.ActionCable;(function(){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,i,a;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=i(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=i(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=i()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=i(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout(function(e){return function(){return e.reconnectIfStale(),e.poll()}}(this),this.getPollInterval())},n.prototype.getPollInterval=function(){var e,t,n,i;return i=this.constructor.pollInterval,n=i.min,t=i.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(e,n,t))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+a(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var e;return a(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&a(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout(function(t){return function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}}(this),200)},i=function(){return(new Date).getTime()},a=function(e){return(i()-e)/1e3},r=function(e,t,n){return Math.max(t,Math.min(n,e))},n}()}).call(this),function(){var t,n,r,i,a,o,s=[].slice,u=function(e,t){return function(){return e.apply(t,arguments)}},l=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=e.INTERNAL,n=i.message_types,r=i.protocols,a=2<=r.length?s.call(r,0,t=r.length-1):(t=0,[]),o=r[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=u(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},t.prototype.open=function(){return this.isActive()?(e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+r),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new e.WebSocket(this.consumer.url,r),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(e){var t,n;if(t=(null!=e?e:{allowReconnect:!0}).allowReconnect,t||this.monitor.stop(),this.isActive())return null!=(n=this.webSocket)?n.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),l.call(a,e)>=0},t.prototype.isState=function(){var e,t;return t=1<=arguments.length?s.call(arguments,0):[],e=this.getState(),l.call(t,e)>=0},t.prototype.getState=function(){var e,t,n;for(t in WebSocket)if(n=WebSocket[t],n===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},t.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},t.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},t.prototype.events={message:function(e){var t,r,i,a;if(this.isProtocolSupported())switch(i=JSON.parse(e.data),t=i.identifier,r=i.message,a=i.type,a){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(t,"connected");case n.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",r)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(e){this.consumer=e,this.subscriptions=[]}return n.prototype.create=function(t,n){var r,i,a;return r=t,i="object"==typeof r?r:{channel:r},a=new e.Subscription(this.consumer,i,n),this.add(a)},n.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},n.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},n.prototype.reject=function(e){var t,n,r,i,a;for(r=this.findAll(e),i=[],t=0,n=r.length;t<n;t++)a=r[t],this.forget(a),this.notify(a,"rejected"),i.push(a);return i},n.prototype.forget=function(e){var t;return this.subscriptions=function(){var n,r,i,a;for(i=this.subscriptions,a=[],n=0,r=i.length;n<r;n++)t=i[n],t!==e&&a.push(t);return a}.call(this),e},n.prototype.findAll=function(e){var t,n,r,i,a;for(r=this.subscriptions,i=[],t=0,n=r.length;t<n;t++)a=r[t],a.identifier===e&&i.push(a);return i},n.prototype.reload=function(){var e,t,n,r,i;for(n=this.subscriptions,r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(this.sendCommand(i,"subscribe"));return r},n.prototype.notifyAll=function(){var e,n,r,i,a,o,s;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],a=this.subscriptions,o=[],r=0,i=a.length;r<i;r++)s=a[r],o.push(this.notify.apply(this,[s,n].concat(t.call(e))));return o},n.prototype.notify=function(){var e,n,r,i,a,o,s;for(o=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],s="string"==typeof o?this.findAll(o):[o],a=[],r=0,i=s.length;r<i;r++)o=s[r],a.push("function"==typeof o[n]?o[n].apply(o,e):void 0);return a},n.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function e(e,n,r){this.consumer=e,null==n&&(n={}),this.identifier=JSON.stringify(n),t(this,r)}var t;return e.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},t=function(e,t){var n,r;if(null!=t)for(n in t)r=t[n],e[n]=r;return e},e}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(e){return this.connection.send(e)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){window.ww||(window.ww={}),ww.cable||(ww.cable=ActionCable.createConsumer())}.call(this),function(){var e;window.ww||(window.ww={}),e=function(e){return null!=e.postBeingEdited||null!=e.commentBeingEdited||null!=e.postBeingReactedTo||$("padlet-post-comments").find("textarea:focus").length>0},Wallwisher.Lib.Realtime=function(){function t(e){this.wall=e.wall,this.user=e.user,this.device=e.device,this.env=e.env,this.endpoint="//rt.padlet.com/socket",this.subscribedChannels={},this.stateDispatchQueue=[],this.$notice=null,ww.store.subscribe(_.bind(this.clearStateDispatchQueue,this))}return t.prototype.wallChannelInfo=function(){return{channel:"WallChannel",wall_id:this.wall.id}},t.prototype.deviceChannelInfo=function(){return{channel:"DeviceChannel",device_id:this.device}},t.prototype.connect=function(){var e;return e=function(e){return function(t){var n;if(n=t.event,
null!=n&&null!=e[n]&&t.uid!==ww.uid)return t=JSON.parse(t.message),e[n](t)}}(this),_([this.wallChannelInfo(),this.deviceChannelInfo()]).each(function(t){return function(n){return t.subscribe(n,e)}}(this))},t.prototype.disconnect=function(){return _([this.wallChannelInfo(),this.deviceChannelInfo()]).each(function(e){return function(t){return e.unsubscribe(t)}}(this))},t.prototype.subscribe=function(e,t){return this.subscribedChannels[e]=ww.cable.subscriptions.create(e,{received:t})},t.prototype.unsubscribe=function(e){var t;if(null!=(t=this.subscribedChannels[e])&&t.unsubscribe(),null!=this.subscribedChannels[e])return delete this.subscribedChannels[e]},t.prototype.add_section=function(e){return this.dispatchStateChange({type:"NEW_SECTION_REMOTE",sectionAttributes:e})},t.prototype.edit_section=function(e){return this.dispatchStateChange({type:"EDIT_SECTION_REMOTE",sectionAttributes:e})},t.prototype.delete_section=function(e){return this.dispatchStateChange({type:"DELETE_SECTION_REMOTE",sectionAttributes:e})},t.prototype.add_comment=function(e){return this.dispatchStateChange({type:"NEW_COMMENT_REMOTE",commentAttributes:e})},t.prototype.edit_comment=function(e){return this.dispatchStateChange({type:"EDIT_COMMENT_REMOTE",commentAttributes:e})},t.prototype.delete_comment=function(e){return this.dispatchStateChange({type:"DELETE_COMMENT_REMOTE",commentAttributes:e})},t.prototype.add_reaction=function(e){return this.dispatchStateChange({type:"NEW_REACTION_REMOTE",reactionAttributes:e})},t.prototype.edit_reaction=function(e){return this.dispatchStateChange({type:"EDIT_REACTION_REMOTE",reactionAttributes:e})},t.prototype.delete_reaction=function(e){return this.dispatchStateChange({type:"DELETE_REACTION_REMOTE",reactionAttributes:e})},t.prototype.add_wish=function(e){return this.dispatchStateChange({type:"NEW_POST_REMOTE",postAttributes:e})},t.prototype.edit_wish=function(e){return this.dispatchStateChange({type:"EDIT_POST_REMOTE",postAttributes:e})},t.prototype.delete_wish=function(e){return this.dispatchStateChange({type:"DELETE_POST_REMOTE",postAttributes:e})},t.prototype.edit_wall=function(e){return ww.store.dispatch({type:"EDIT_WALL_REMOTE",wallAttributes:e})},t.prototype.delete_wall=function(e){return ww.store.dispatch({type:"DELETE_WALL_REMOTE",wallAttributes:e})},t.prototype.add_connection=function(e){return this.dispatchStateChange({type:"NEW_CONNECTION_REMOTE",connectionAttributes:e})},t.prototype.delete_connection=function(e){return this.dispatchStateChange({type:"DELETE_CONNECTION_REMOTE",connectionAttributes:e})},t.prototype.recognize_user=function(e){return this.user.set(e)},t.prototype.login=function(e){return this.user.set(e),window.location.reload()},t.prototype.logout=function(){return window.location.reload()},t.prototype.dispatchStateChange=function(t){var n;return n=ww.store.getState(),e(n)?($device.phone||this.$notice||(this.$notice=$('<padlet-snackbar><div class="snackbar-container is-animated slide-from-top"><span>'+ww.$t("Padlet updated elsewhere.")+'</span><button class="text-button-inverse">'+ww.$t("Refresh")+"</button></div></padlet-snackbar>"),this.$notice.find("button").on("click",function(e){return function(){var n;for(e.$notice.remove(),e.$notice=null,n=[];t=e.stateDispatchQueue.shift();)n.push(ww.store.dispatch(t));return n}}(this)),this.$notice.appendTo(document.body)),this.stateDispatchQueue.push(t)):ww.store.dispatch(t)},t.prototype.clearStateDispatchQueue=function(){var t,n,r;if(0!==this.stateDispatchQueue.length&&(r=ww.store.getState(),!e(r))){for(this.$notice&&(this.$notice.remove(),this.$notice=null,$(document.body).snackbar(ww.$t("Applying changes made elsewhere ..."),{timeout:2500})),n=[];t=this.stateDispatchQueue.shift();)n.push(ww.store.dispatch(t));return n}},t}()}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.Inkpot=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.setErrorHandlers(),this.muralId="4fb87ea0e696f4e870000001"},n.prototype.setErrorHandlers=function(){return this.on("error:422",function(e,t){var n,r,i;i=[];for(n in t)r=t[n],i.push(e.trigger("error:"+n,e,r));return i})},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.Session=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.url="/session",n}(Wallwisher.Models.Inkpot)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.User=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/users",n.prototype.initialize=function(e,t){return null==t&&(t={}),this.canSignup="open"===t.membership,this.walls=new Wallwisher.Collections.Walls([],{user:this}),this.on("change:id",function(){return this.walls.reset()},this),t.syncErrorTolerance=1,n.__super__.initialize.call(this,e,t)},n.prototype.login=function(e,t){var n,r;return null==t&&(t={}),r=new Wallwisher.Models.Session,t=_.clone(t),n=t.success,t.success=function(e){return function(t,i,a){return e.set(r.attributes),"function"==typeof n?n(t,i,a):void 0}}(this),r.save(e,t)},n.prototype.register=function(e,t){return null==t&&(t={}),this.performAction("register",e,t)},n.prototype.refresh=function(e){var t,n;return null==e&&(e={}),n=new Wallwisher.Models.Session,e=_.clone(e),t=e.success,e.success=function(e){return function(r,i,a){return e.set(n.attributes),"function"==typeof t?t(r,i,a):void 0}}(this),n.fetch(e)},n.prototype.reset_password=function(e,t){return null==t&&(t={}),this.set("email",e.email),this.performAction("reset_password",e,_.extend({url:"/users/reset_password"},t))},n.prototype.change_password=function(e,t){return null==t&&(t={}),this.performAction("change_password",e,t)},n.prototype.isRegistered=function(){return(null!==this.get("email")||null!==this.get("username"))&&this.isRecognized()},n.prototype.isNativeAdmin=function(){return("admin"===this.get("role")||"owner"===this.get("role"))&&1===this.get("tenant_id")},n.prototype.isRecognized=function(){return null!==this.id},n.prototype.isGuest=function(){return null===this.get("email")},n.prototype.fakeChange=function(){return this.set({created_at:1333980214,email:"nitesh@coffeebite.com",id:359081,name:"Nitesh Goel"})},n.prototype.checkUsernameAvailability=function(e,t){return this.performAction("check_availability:read",e,{url:"/namespaces/check_availability",success:function(e){return t(e)}})},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;Wallwisher.Models.Wall=function(n){function r(){return this.initialize=e(this.initialize,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.urlRoot="/walls",r.create=function(e){return $.ajax({type:"post",url:"/walls",data:e})},r.prototype.initialize=function(e,t){return null==t&&(t={}),t.syncErrorTolerance=1,r.__super__.initialize.call(this,e,t),this.privacy=new Wallwisher.Models.PrivacyPolicy(e.privacy_policy),this.on("change:privacy_policy",function(e){return function(t,n){return e.privacy.set(n)}}(this),this)},r.prototype.builtBy=function(e){var t;return(null!=(t=this.get("builder"))?t.id:void 0)===e.id&&null!==e.id},r.prototype.canRead=function(e){return this.privacy.canRead(e)},r.prototype.canWrite=function(e){return this.privacy.canWrite(e)||this.isTeacherModerateStudent(e)},r.prototype.canEdit=function(e){return this.privacy.canEdit(e)||this.isTeacherModerateStudent(e)},r.prototype.canAdminister=function(e){return this.privacy.canAdminister(e)||this.isTeacherModerateStudent(e)},r.prototype.canRemake=function(e){return this.canRead(e)&&this.get("is_remakeable")&&e.isRegistered()},r.prototype.isTeacherModerateStudent=function(e){var t,n;return n=e.attributes.role,("teacher"===n||"owner"===n)&&"student"===(null!=(t=this.get("builder"))?t.role:void 0)},r.prototype.claim=function(e){return this.performAction("claim",{},e)},r.prototype.duplicate=function(e,t,n){var r;return r=e?"true":"false",this.performAction("copy:create",{include_wishes:r},{timeout:3e4,success:function(e){return t(e)},error:function(){return n()}})},r.prototype.checkAvailability=function(e,t){var n;return n=_.extend(e,{for_wall_id:this.id}),this.performAction("check_availability:read",e,{url:this.urlRoot+"/check_availability",success:function(e){return t(e)}})},r.prototype.fetch=function(e){var t,n,i;return this.has("id")&&(i={}),this.has("address")?i={url:this.urlRoot+"/address:"+this.get("address")}:this.has("public_key")&&(i={url:this.urlRoot+"/key:"+this.get("public_key")}),(null!=e&&null!=(t=e.data)?t.password:void 0)&&(e._method="create"),e=e?_(i).extend(e):i,n=r.__super__.fetch.call(this,e)},r.prototype.convertLayout=function(e){return $.ajax({type:"put",url:"/walls/"+this.get("id")+"/layout",data:{type:e}})},r.prototype.urls=function(){return{remake:"/walls/"+this.get("id")+"/remake",showRemake:"/padlets/"+this.get("public_key")+"/remake",remakeStatus:"/walls/"+this.get("id")+"/remake"}},r.prototype.parameterize=function(){return _(this.attributes).pick("title","description","name","portrait","background","domain_name","viz","notify","color_scheme","font_id","public_tag_list","show_author","is_remakeable","is_commentable","new_wish_loc","is_reactable","reaction_data")},r}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.Wish=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/wishes",n.prototype.initialize=function(e,t){return null==t&&(t={}),t.version=!0,t.syncErrorTolerance=1,n.__super__.initialize.call(this,e,t)},n.prototype.approve=function(e){return this.set("published",!0),this.performAction("approve",{},e)},n.prototype.move=function(e,t){return this.set(e),this.trigger("move"),this.performAction("move",e,t)},n.prototype.resize=function(e,t){if(this.set(e),!this.isNew())return this.performAction("resize",e,t)},n.prototype.transfer=function(e,t){return null==e&&(e={}),this.performAction("transfer",{wall_id:e.wall_id,wall_title:e.wall_title,wall_description:e.wall_description,wall_section_id:e.wall_section_id},t)},n.prototype.copy=function(e,t){return null==e&&(e={}),this.performAction("copy:create",{wall_id:e.wall_id,wall_title:e.wall_title,wall_description:e.wall_description,wall_section_id:e.wall_section_id},t)},n.prototype.copyHere=function(e,t){var n,r,i;return null==e&&(e={}),null==t&&(t={}),n={wall_id:this.get("wall_id")},null!=e.left&&(n.left=e.left),null!=e.top&&(n.top=e.top),n.wall_section_id=null!=t.wall_section_id?t.wall_section_id:this.get("wall_section_id"),r=t.success,i=function(e){return function(t){var n;return n=new Wallwisher.Models.Wish(t),e.collection.add(n),null!=r?r.apply(null,arguments):void 0}}(this),t.success=i,this.performAction("copy:create",n,t)},n.prototype.isEmpty=function(){return!(this.get("body")||this.get("subject")||this.get("attachment"))},n.prototype.isEmptyOfText=function(){return!(this.get("body")||this.get("subject"))},n.prototype.isNew=function(){return null==this.get("id")},n.prototype.authoredBy=function(e){return this.get("author_id")===e.id&&null!==e.id},n.prototype.sortIndex=function(){var e,t,n;return e=this.get("sort_index"),e||(t=null!=(n=this.get("rank"))?n:""+new Date(this.get("created_at")).getTime(),t=parseInt(t),e=Math.abs(ww.sorter.getAbsoluteSortIndex(t))),e},n.prototype.parameterize=function(){return _(this.attributes).pick("subject","body","left","top","width","height","attachment","wall_id","author_id","rank","sort_index","wall_section_id","color")},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.Reaction=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/reactions",n.prototype.authoredBy=function(e){return this.get("user_id")===e.id&&null!==e.id},n.prototype.parameterize=function(){return _(this.attributes).pick("value","wish_id","reaction_type")},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.Comment=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/comments",n.prototype.authoredBy=function(e){return this.get("user").id===e.id&&null!==e.id},n.prototype.parameterize=function(){return _(this.attributes).pick("body","wish_id")},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.WallSection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/wall_sections",n.prototype.parameterize=function(){return _(this.attributes).pick("title","wall_id","sort_index","color")},n.prototype.isWishInSection=function(e){return this.id===e.get("wall_section_id")&&null!==this.id},n.prototype.isNew=function(){return null==this.id},n.prototype.hasEmptyTitle=function(){var e;return e=this.get("title"),null==e||""===e},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.WishConnection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/api/wish_connections",n.prototype.parameterize=function(){return _(this.attributes).pick("from_wish_id","to_wish_id","label")},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Models.PrivacyPolicy=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/privacy_policies",n.prototype.initialize=function(e,t){return this.levels={none:0,read:1,write:2,edit:4,administer:8},n.__super__.initialize.call(this,e,t)},n.prototype.canRead=function(e){return this.can(e,"read")},n.prototype.canWrite=function(e){return this.can(e,"write")},n.prototype.canEdit=function(e){return this.can(e,"edit")},n.prototype.canAdminister=function(e){return this.can(e,"administer")},n.prototype.can=function(e,t){return this.get("public")>=this.levels[t]||this.get("tenant_access")>=this.levels[t]||e&&(this.isOwner(e)||e.isNativeAdmin()||this.userCan(e,this.levels[t]))},n.prototype.isOwner=function(e){return this.get("owner_id")===e.id},n.prototype.userCan=function(e,t){var n,r;return n=null!=(r=this.get("users"))?r[e.id]:void 0,n&&n>=t},n.prototype.isModerated=function(){return this.get("is_moderated")},n.prototype.requiresApproval=function(e){return this.isModerated()&&!this.canEdit(e)},n.prototype.isPrivate=function(){return 0===this.get("public")&&0===this.get("tenant_access")},n.prototype.isTotallyPublic=function(){return this.get("public")>0&&this.get("is_listed")},n.prototype.isTopSecret=function(){return this.get("public")>0&&!this.get("is_listed")},n.prototype.isOrgWide=function(){return this.get("tenant_access")>0},n.prototype.isPasswordProtected=function(){return this.get("password_protected")},n.prototype.parameterize=function(){return _(this.attributes).pick("is_moderated","ausers","password","public","tenant_access","is_listed","is_shareable")},n}(Backbone.BetterModel)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Collections.Walls=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Wallwisher.Models.Wall,n.prototype.initialize=function(e,t){return null==t&&(t={}),t.syncErrorTolerance=1,n.__super__.initialize.call(this,e,t)},n.prototype.url=function(){if(this.options.user)return"/users/"+this.options.user.id+"/walls"},n.prototype.comparator=function(e){return-e.get("updated_at")},n}(Backbone.BetterCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Collections.Wishes=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Wallwisher.Models.Wish,n.prototype.initialize=function(e,t){return null==t&&(t={}),t.syncErrorTolerance=1,n.__super__.initialize.call(this,e,t)},n.prototype.url=function(){if(this.options.wall)return"/wishes?wall_id="+this.options.wall.id},n.prototype.posted=function(){return this.reject(function(e){return e.isNew()})},n}(Backbone.BetterCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Collections.Reactions=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Wallwisher.Models.Reaction,n.prototype.url=function(){if(this.options.wall)return"/reactions?wall_id="+this.options.wall.id},n.prototype.comparator=function(e){return e.id},n}(Backbone.BetterCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Collections.Comments=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Wallwisher.Models.Comment,n.prototype.url=function(){return this.options.wish?"/comments?wish_id="+this.options.wish.id:this.options.wall?"/comments?wall_id="+this.options.wall.id:void 0},n.prototype.comparator=function(e){return e.id},n}(Backbone.BetterCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Collections.WallSections=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Wallwisher.Models.WallSection,n.prototype.url=function(){var e;return"/wall_sections?wall_id="+((null!=(e=this.options.wall)?e.id:void 0)||this.options.wallId)},n.prototype.comparator=function(e){return e.get("sort_index")},n}(Backbone.BetterCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Wallwisher.Collections.WishConnections=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Wallwisher.Models.WishConnection,n.prototype.url=function(){if(this.options.wall)return"/api/wish_connections?wall_id="+this.options.wall.id},n.prototype.areConnected=function(e,t){return null!=this.findConnection(e,t)},n.prototype.findConnection=function(e,t){return this.findWhere({from_wish_id:e.id,to_wish_id:t.id})||this.findWhere({from_wish_id:t.id,to_wish_id:e.id})},n.prototype.allConnectionsToAndFromWish=function(e){return this.filter(function(t){return t.get("from_wish_id")===e.id||t.get("to_wish_id")===e.id})},n}(Backbone.BetterCollection)}.call(this),function(){var e;window.ww||(window.ww={}),e=ww.tagman=riot.observable(),e.tagList={},e.compile=function(t,n,r){var i,a,o,s;for(null==r&&(r={}),null==r.mount&&(r.mount=!0),null==r.opts&&(r.opts={}),"string"==typeof n&&(n=[n]),a=0,o=n.length;a<o;a++)s=n[a],null==(i=e.tagList)[s]&&(i[s]=!1);return riot.compile(t,function(){var t,i,a;for(a=[],t=0,i=n.length;t<i;t++)s=n[t],e.tagList[s]=!0,e.trigger("compile",{tagName:s}),r.mount?a.push(riot.mount(s,r.opts)):a.push(void 0);return a})},e.mount=function(t,n){var r,i;return i=$.Deferred(),r=arguments,e.isCompiled(n)?i.resolve(riot.mount.apply(null,r)):e.on("compile",function(e){if(e.tagName===n)return i.resolve(riot.mount.apply(null,r))}),i.promise()},e.isCompiled=function(t){return!!e.tagList[t]}}.call(this);var re_weburl=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");window.ww||(window.ww={}),window.ww.url={},window.ww.url.isUrl=function(e){return!!e.match(re_weburl)},function(){var e;Trix.config.textAttributes.sup={tagName:"sup",inheritable:!0},Trix.config.textAttributes.sub={tagName:"sub",inheritable:!0},Trix.config.textAttributes.mark={tagName:"mark",inheritable:!0},Trix.config.blockAttributes.math={tagName:"var",terminal:!0,text:{plaintext:!0}},e="is-customized",document.addEventListener("trix-initialize",function(t){var n,r,i;if(!t.target.toolbarElement.classList.contains(e))return r='<button type="button" class="trix-button trix-button--icon trix-button--icon-mark" data-trix-attribute="mark" title="Highlight">Highlight</button>',r+='<button type="button" class="trix-button trix-button--icon trix-button--icon-sup" data-trix-attribute="sup" title="Superscript">Superscript</button>',r+='<button type="button" class="trix-button trix-button--icon trix-button--icon-sub" data-trix-attribute="sub" title="Subscript">Subscript</button>',n=t.target.toolbarElement.querySelector(".trix-button-group--text-tools"),n.insertAdjacentHTML("beforeend",r),r='<button type="button" class="trix-button trix-button--icon trix-button--icon-math" data-trix-attribute="math" title="Math">Math</button>',i=t.target.toolbarElement.querySelector('button[data-trix-attribute="code"]'),i.insertAdjacentHTML("afterend",r),t.target.toolbarElement.classList.add(e)})}.call(this),function(){var e,t,n;window.ww||(window.ww={}),e=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,n=/^(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})$/gi,t=/^(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?$/g,ww.autolinker={match:function(r){var i,a;return r.match(e)?{type:"email",href:"mailto:"+r}:(i=r.match(t))?(a=i[0].replace(/[^a-zA-z0-9\+]/g,""),{type:"tel",href:"tel:"+a}):r.match(n)?{type:"url",href:r}:null},link:function(e){return Autolinker.link(e,{newWindow:!0,stripPrefix:!1,stripTrailingSlash:!1})}}}.call(this),function(){var e,t,n,r,i,a,o,s,u;window.ww||(window.ww={}),e=$(document),s=1,u=[],ww.uploader={},a=function(e,t){return null==t&&(t={}),ga("send","event","Uploads","Error",e),t.fileType=e,Raven.captureMessage("Upload Error",{extra:t})},o=function(e){return ga("send","event","Uploads","Success",e)},i=function(e){var t,n,r,i,a;return e.name?(n=e.name,a=n.split("."),t=a.pop(),0===a.length?(r=t,t=""):(t="."+t.replace(/[^a-zA-Z0-9]/g,""),r=a.join("_")),r=r.replace(/[^a-zA-Z0-9]/g,"_"),r=r.substr(0,100)+t.toLowerCase()):e.type?(i=e.type.split("/").pop(),r=i?"file."+i.toLowerCase():"file"):r="file",r},r=function(e){var t,n;return e.name?(t=e.name,n=t.substr((Math.max(0,t.lastIndexOf("."))||Infinity)+1),""===n?n:(n=n.replace(/\?.*$/,""),n.match(/[^a-zA-Z0-9]/)?"":n.toLowerCase())):e.type?(n=e.type.split("/").pop(),n?n.toLowerCase():""):void 0},n=function(e){return $.Deferred(function(t){var n,i;return n=r(e),n.match(/gdoc|gsheet|glink|gform|gmap|gmaps|gslides|gdraw|url|htm|html|webloc|mht|mhtml/)?(i=new FileReader,i.onload=function(){var e,r,a;return a=i.result,"gdoc"===n||"gsheet"===n||"glink"===n||"gform"===n||"gmap"===n||"gmaps"===n||"gslides"===n||"gdraw"===n?(e=JSON.parse(a),t.resolve({url:e.url})):"url"===n&&(r=a.match(/URL=(.*)/))?t.resolve({url:r[1]}):("htm"===n||"html"===n)&&a.indexOf("window.googleJavaScriptRedirect")>=0&&(r=a.match(/content="0;URL='(.*)'/))?t.resolve({url:r[1]}):"htm"!==n&&"html"!==n||!(r=a.match(/<\!\-\-\ssaved\sfrom\surl=\((?:\d+)\)(.*?)\s\-\-\>/))||"http://tiddlywiki.com"===r[1]?"webloc"===n&&(r=a.match(/<string>(.*)<\/string>/))?t.resolve({url:r[1]}):"mht"!==n&&"mhtml"!==n||!(r=a.match(/Content\-Location\:\s(.*)/))?t.reject():t.resolve({url:r[1]}):t.resolve({url:r[1]})},i.onerror=function(){return t.reject()},i.readAsText(e)):t.reject()}).promise()},t=function(){function e(e,t,n,r){this.file=e,this.deferred=t,this.xhr1=n,this.xhr2=r}return e.prototype.cancel=function(){var e,t;return null!=(e=this.xhr1)&&e.abort(),null!=(t=this.xhr2)&&t.abort(),this.deferred.reject({message:"Upload canceled."})},e.prototype.start=function(){return n(this.file).then(this.deferred.resolve,_.bind(this._ajax1,this))},e.prototype._ajax1=function(){return this.xhr1=$.ajax({url:"/media/upload_attributes.json",dataType:"json",type:"OPTIONS",cache:!1,data:{unique:+new Date},error:function(e){return function(t,n){if("abort"!==n)return a("ajax1",{statusCode:t.status}),e.deferred.reject(t)}}(this),success:function(e){return function(t){return e._ajax2(t)}}(this)})},e.prototype._ajax2=function(e){var t,n,r,s,u,l;t=new FormData,s=i(this.file),this.file.name=s,r="0",u=e.fields;for(n in u)l=u[n],"max_file_size"===n&&(r=l),"key"!==n&&t.append(n,l);return t.append("key",e.fields.key+"/"+s),t.append("Content-Type",this.file.type),t.append("file_size",this.file.size),t.append("file",this.file,s),this.xhr2=$.ajax({url:e.url,crossDomain:!0,type:"post",data:t,cache:!1,contentType:!1,processData:!1,dataType:"json",xhr:function(e){return function(){var t;return t=$.ajaxSettings.xhr(),t.upload&&t.upload.addEventListener("progress",function(t){if(t.lengthComputable)return e.deferred.notify({loaded:t.loaded,total:t.total,percentage:Math.floor(100*t.loaded/t.total)})}),t}}(this),error:function(t){return function(n,i){if("abort"!==i)return a(t.file.type,{statusCode:n.status,userId:e.fields.uploader_id,filename:t.file.name,fileSize:t.file.size,maxFileSize:r}),t.deferred.reject(n)}}(this),success:function(e){return function(t){return o(e.file.type),e.deferred.resolve(t)}}(this)})},e}(),ww.uploader.upload=function(e,n){var r,i,a;return null==n&&(n={}),a=n.maxFileSizeBytes,null!=a&&e.size>a?(r=$.Deferred(),i=new Error("File too large"),i.file=e,i.isFileTooLarge=!0,r.reject(i)):r=$.Deferred(function(n){var r;return r=new t(e,n),u.push(r),r.start()}),r.promise()},ww.uploader.cancel=function(e){var t;if(t=_.find(u,function(t){return t.file===e}))return t.cancel(),u=_.without(u,t)},$(function(){return e.on("uploader:upload",function(e,t){return ww.uploader.upload(t)}),e.on("uploader:cancel",function(e,t){return ww.uploader.cancel(t)})})}.call(this),function(){var e;e=function(e,t,n){var r;return r="",null!=n&&null!=t?r='<a class="text-button-inverse" href="'+n+'">'+t+"</a>":null!=t&&(r='<button class="text-button-inverse">'+t+"</button>"),'<padlet-snackbar><div class="snackbar-container is-animated slide-from-top"><span>'+e+"</span>"+r+"</div></padlet-snackbar>"},$.fn.snackbar=function(t,n){var r;return null==n&&(n={}),r=n.timeout||5e3,this.each(function(){var i,a;return a=this,i=$(e(t,n.actionText,n.actionUrl)).appendTo(a),setTimeout(function(){return i.remove()},r)})}}.call(this),function(){var e,t,n,r;r=window.ww||(window.ww={}),r.statesman={},n=function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},t=function(e){return e instanceof Function},e=!1,r.statesman.ActionTypes={INIT:"statesman.INIT"},r.statesman.Store=function(i,a,o){var s,u,l,d,c,h,f;return null==a&&(a={}),null==o&&(o=!1),d={},f={},u={},c=null,h=[],s=!1,l=function(e){return function(){return c=i,d=a,o&&e.init(),e}}(this),this.init=function(){return!s&&(this.dispatch({type:r.statesman.ActionTypes.INIT}),s=!0)},this.getState=function(){return d},this.subscribe=function(e,n){var r,i;if(null==n&&(n=!1),!t(e))throw new Error("Listeners must be functions");return h.push(e),r=!0,n&&setTimeout(e,0),i=function(){var t;return!!r&&(r=!1,t=h.indexOf(e),h.splice(t,1),!0)}},this.dispatch=function(t){var r,i,a;if(!n(t))throw new Error("Actions must be plain objects");if("undefined"==typeof t.type)throw new Error("Actions may not have an undefined type property");if(e)throw new Error("StateModifiers may not dispatch actions.");try{if(e=!0,u={},f=d,d=c(d,t),"state"!==d.whoami)throw"undefined"!=typeof Raven&&null!==Raven&&Raven.setUserContext({state:d}),new Error("Action "+t.type+" did not return a state object")}finally{e=!1}for(r=0,i=h.length;r<i;r++)a=h[r],a&&a();return t},this.didChange=function(e){var t,n,r,i,a,o;if(void 0!==u[e])return u[e];for(i=e.split("."),t=d,o=f,n=0,a=i.length;n<a;n++)r=i[n],t=t[r],o=o[r];return u[e]=!_.isEqual(t,o)},l()}}.call(this),function(){var e,t,n,r,i,a;window.ww||(window.ww={}),e={},ww.beethoven={},t=Math.ceil(window.devicePixelRatio).toFixed(1),r=document.documentElement.lang,i=500,n=500,a="https://assets.padletcdn.com/static/s04142135/beethoven/preview.json",ww.beethoven.getAttributes=function(o,s,u){var l,d;return l=$.extend({dpr:t,locale:r},s),null==s.width&&null==s.height&&(l.width=i,l.height=n),l.url=o,d=$.param(l),null!=e[d]?u(e[d]):$.getJSON(a,d,function(t){return e[d]=t,u(t)})}}.call(this),function(){var e,t,n;window.ww||(window.ww={}),e=Math.ceil(window.devicePixelRatio).toFixed(1),t={avatar:{gravity:"auto",crop:"thumb"},icon:{gravity:"auto",crop:"thumb"},background:{gravity:"auto",format:"auto",quality:"auto:best",crop:"lfill"},obscure:{width:80,height:80,crop:"scale",effect:"blur:1000"}},n=function(n,r){var i,a,o;return null==r&&(r={}),i=encodeURIComponent(n),a=[],r.preset&&(r=$.extend({},t[r.preset],r)),a.push(["a",r.align||"exif"]),a.push(["c",r.crop||"limit"]),a.push(["dpr",e]),r.effect?a.push(["e",r.effect]):r.trim&&a.push(["e","trim"]),r.format&&a.push(["f",r.format]),r.gravity&&a.push(["g",r.gravity]),r.height&&a.push(["h",r.height]),r.quality&&a.push(["q",r.quality]),r.width&&a.push(["w",r.width]),o=$.map(a,function(e){return e.join("_")}),o=o.join(","),"https://imgglb.padletcdn.com/v13/image?t="+o+"&url="+i},ww.imageProcessor={processedUrl:n}}.call(this),function(){window.ww||(window.ww={}),ww.fullscreen={enter:function(e){return null==e&&(e=document.documentElement),("function"==typeof e.requestFullscreen?e.requestFullscreen():void 0)||("function"==typeof e.webkitRequestFullscreen?e.webkitRequestFullscreen():void 0)||("function"==typeof e.mozRequestFullScreen?e.mozRequestFullScreen():void 0)||("function"==typeof e.msRequestFullscreen?e.msRequestFullscreen():void 0)},exit:function(){return("function"==typeof document.exitFullscreen?document.exitFullscreen():void 0)||("function"==typeof document.webkitExitFullscreen?document.webkitExitFullscreen():void 0)||("function"==typeof document.mozCancelFullScreen?document.mozCancelFullScreen():void 0)||("function"==typeof document.msExitFullscreen?document.msExitFullscreen():void 0)},element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},isEnabled:function(){return!!this.element();
},isAvailable:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled}}}.call(this),function(){var e;window.ww||(window.ww={}),e=function(e){return null==e&&(e={}),ww.store.dispatch({type:"FILE_PICKER_SHOW",options:e})},ww.filePicker={show:e},$(function(){return $(document).on("file:pick",function(e,t){return ww.filePicker.show(t)})})}.call(this),function(){var e,t,n,r,i;window.ww||(window.ww={}),n=[],i="katex-script",r=function(e){return katex.render(e.innerText,e,{displayMode:!1})},t=function(){var e,t;for(t=[];e=n.shift();)t.push(r(e));return t},e=function(e){var a,o,s;return window.katex?r(e):(n.push(e),document.getElementById(i)?void 0:(o=document.getElementsByTagName("script")[0],a=document.createElement("script"),a.id=i,a.type="text/javascript",a.async=!0,a.src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.js",a.onload=t,o.parentNode.insertBefore(a,o),s=document.createElement("link"),s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css",o.parentNode.insertBefore(s,o)))},ww.math={parseLatex:e},"undefined"!=typeof $&&null!==$&&($.fn.parseLatex=function(){return this.each(function(){return e(this)}),this})}.call(this),function(){var e,t,n,r;window.ww||(window.ww={}),n=[],r="highlightjs-script",t=function(){var e,t;for(t=[];e=n.shift();)t.push(window.hljs.highlightBlock(e," "));return t},e=function(e){var i,a,o;return window.hljs?window.hljs.highlightBlock(e," "):(n.push(e),document.getElementById(r)?void 0:(a=document.getElementsByTagName("script")[0],i=document.createElement("script"),i.id=r,i.type="text/javascript",i.async=!0,i.src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js",i.onload=t,a.parentNode.insertBefore(i,a),o=document.createElement("link"),o.rel="stylesheet",o.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css",a.parentNode.insertBefore(o,a)))},ww.codeHighlighter={highlightCode:e},"undefined"!=typeof $&&null!==$&&($.fn.highlightCode=function(){return this.each(function(){return e(this)}),this})}.call(this),function(){var e,t;t=window.ww||(window.ww={}),e={messageHandlers:{}},e.postMessage=function(t,n){var r,i,a,o,s,u;return null==n&&(n=null),console.dir(t),e.canPostMessage()?(null!=(r=ww.device)?r.iosApp:void 0)?null!=(i=window.webkit)&&null!=(a=i.messageHandlers)&&null!=(o=a.__iosAppMsgCenter)?o.postMessage(t):void 0:(null!=(s=ww.device)?s.androidApp:void 0)?null!=(u=window.__androidAppMsgCenter)?u.postMessage(JSON.stringify(t)):void 0:"function"==typeof n?n(t):void 0:"function"==typeof n?n(t):void 0},e.canPostMessage=function(){var e;return null!=(e=ww.device)?e.can("postMessage"):void 0},e.receiveMessage=function(t){var n,r;if(r=t.message_type,null!=r)return"function"==typeof(n=e.messageHandlers)[r]?n[r](t):void 0},e.addMessageHandler=function(t,n){return e.messageHandlers[t]=n},t.nativeBridge=$.extend(!0,t.nativeBridge||{},e)}.call(this),function(){var e,t,n,r;e=window.ww||(window.ww={}),r=function(e,t,n){var r;if(null==e&&(e={}),null==n&&(n=null),null==e[t])throw new Error("Required option: "+t);if(r=!1,"array"===n?r=!Array.isArray(e[t]):null!=n&&(r=typeof e[t]!==n),r)throw new Error("Required option: "+t+" of type "+n)},n={},n.domElement=function(e){var t;return e.length>0?(t=e.offset(),{type:"element",x:t.left,y:t.top,width:e.width(),height:e.height()}):null},n.divider=function(){return{type:"menu_divider"}},n.menuItem=function(e){var t,n;if(null==e&&(e={}),r(e,"name","string"),n={type:"menu_item",name:e.name,icon:e.icon},null!=e.launches){if(null==e.launches.type)throw new Error("Launch must have type");if(null==e.launches.actionMessageType)throw new Error("Launch must have an action message type");t={message_type:e.launches.actionMessageType,launches:e.launches.type,launch_manifest:e.launches},n.action=t,delete e.launches.actionMessageType}else{if(null==e.action)throw new Error("Must launch or have an action");n.action=e.action}return n},n.alertSheet=function(e){return null==e&&(e={}),r(e,"title","string"),r(e,"element","object"),r(e,"menuItems","array"),r(e,"cancelAction","object"),{type:"alert_sheet",title:e.title,element:e.element,items:e.menuItems,cancel_action:e.cancelAction}},n.button=function(e){return null==e&&(e={}),r(e,"name","string"),r(e,"action","object"),{type:"button",name:e.name,title:e.name,style:e.style,action:e.action}},n.alert=function(e){if(null==e&&(e={}),r(e,"buttons","array"),r(e,"cancelAction","object"),null==e.title&&null==e.body)throw new Error("Alert must have title or body");return{type:"alert",title:e.title,body:e.body,buttons:e.buttons,cancel_action:e.cancelAction}},n.sidePanel=function(e){var t;return null==e&&(e={}),r(e,"url","string"),t={type:"side_panel",title:e.title,url:e.url,cancel_action:{message_type:"hide_side_panel"}},t.left_button=e.leftButton||null,t.right_button=e.rightButton||null,t},t={},t.show=function(t,n,r){var i;return null==r&&(r=null),null!=(i=e.nativeBridge)?i.postMessage({message_type:"show_"+t,manifest:n},r):void 0},e.nativeBridge=$.extend(!0,e.nativeBridge||{},{ui:t,uiManifests:n})}.call(this),function(){}.call(this),function(){var e,t;t={},e=Object.create(HTMLElement.prototype),e.createdCallback=function(){},e.detachedCallback=function(){var e;if(e=this.dataset.uid,t[e])return t[e].unmount(),delete t[e]},e.attachedCallback=function(){var e;return e=this.dataset.name,ww.tagman.mount(this,e).done(function(e){return function(n){var r;return r=_.uniqueId("riot"),e.dataset.uid=r,t[r]=n[0]}}(this))},e.leave=function(){var e;if(e=this.dataset.uid,t[e])return t[e].unmount(),delete t[e]},document.registerElement("padlet-tag",{prototype:e})}.call(this),function(){var e,t,n,r,i,a,o,s,u,l,d,c,h,f;h={},h["zh-CN"]={prefixAgo:null,prefixFromNow:"\u4ece\u73b0\u5728\u5f00\u59cb",suffixAgo:"\u4e4b\u524d",suffixFromNow:null,seconds:"\u4e0d\u52301\u5206\u949f",minute:"1\u5206\u949f",minutes:"%d\u5206\u949f",hour:"1\u5c0f\u65f6",hours:"%d\u5c0f\u65f6",day:"1\u5929",days:"%d\u5929",month:"1\u4e2a\u6708",months:"%d\u6708",year:"1\u5e74",years:"%d\u5e74",numbers:[],wordSeparator:""},h.vi={prefixAgo:"c\xe1ch \u0111\xe2y",prefixFromNow:null,suffixAgo:"tr\u01b0\u1edbc",suffixFromNow:"trong t\u01b0\u01a1ng lai",seconds:"ch\u01b0a \u0111\u1ebfn m\u1ed9t ph\xfat",minute:"m\u1ed9t ph\xfat",minutes:"%d ph\xfat",hour:"m\u1ed9t ti\u1ebfng",hours:"%d ti\u1ebfng",day:"m\u1ed9t ng\xe0y",days:"%d ng\xe0y",month:"m\u1ed9t th\xe1ng",months:"%d th\xe1ng",year:"m\u1ed9t n\u0103m",years:"%d n\u0103m",wordSeparator:" ",numbers:[]},h.uk=function(){var e;return e=function(e,t,n,r){var i;return i=e%10,1===i&&(1===e||e>20)?t:i>1&&i<5&&(e>20||e<10)?n:r},{prefixAgo:null,prefixFromNow:"\u0447\u0435\u0440\u0435\u0437",suffixAgo:"\u0442\u043e\u043c\u0443",suffixFromNow:null,seconds:"\u043c\u0435\u043d\u0448\u0435 \u0445\u0432\u0438\u043b\u0438\u043d\u0438",minute:"\u0445\u0432\u0438\u043b\u0438\u043d\u0430",minutes:function(t){return e(t,"%d \u0445\u0432\u0438\u043b\u0438\u043d\u0430","%d \u0445\u0432\u0438\u043b\u0438\u043d\u0438","%d \u0445\u0432\u0438\u043b\u0438\u043d")},hour:"\u0433\u043e\u0434\u0438\u043d\u0430",hours:function(t){return e(t,"%d \u0433\u043e\u0434\u0438\u043d\u0430","%d \u0433\u043e\u0434\u0438\u043d\u0438","%d \u0433\u043e\u0434\u0438\u043d")},day:"\u0434\u0435\u043d\u044c",days:function(t){return e(t,"%d \u0434\u0435\u043d\u044c","%d \u0434\u043d\u0456","%d \u0434\u043d\u0456\u0432")},month:"\u043c\u0456\u0441\u044f\u0446\u044c",months:function(t){return e(t,"%d \u043c\u0456\u0441\u044f\u0446\u044c","%d \u043c\u0456\u0441\u044f\u0446\u0456","%d \u043c\u0456\u0441\u044f\u0446\u0456\u0432")},year:"\u0440\u0456\u043a",years:function(t){return e(t,"%d \u0440\u0456\u043a","%d \u0440\u043e\u043a\u0438","%d \u0440\u043e\u043a\u0456\u0432")}}}(),h.th={prefixAgo:null,prefixFromNow:null,suffixAgo:"\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",suffixFromNow:"\u0e08\u0e32\u0e01\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49",seconds:"\u0e19\u0e49\u0e2d\u0e22\u0e01\u0e27\u0e48\u0e32\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e19\u0e32\u0e17\u0e35",minute:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e19\u0e32\u0e17\u0e35",minutes:"%d \u0e19\u0e32\u0e17\u0e35",hour:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hours:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13 %d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",day:"\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e27\u0e31\u0e19",days:"%d \u0e27\u0e31\u0e19",month:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e40\u0e14\u0e37\u0e2d\u0e19",months:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",year:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e1b\u0e35",years:"%d \u0e1b\u0e35",wordSeparator:"",numbers:[]},h.tr={suffixAgo:"\xf6nce",suffixFromNow:null,seconds:"1 dakikadan",minute:"1 dakika",minutes:"%d dakika",hour:"1 saat",hours:"%d saat",day:"1 g\xfcn",days:"%d g\xfcn",month:"1 ay",months:"%d ay",year:"1 y\u0131l",years:"%d y\u0131l"},h["tr-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1sn",minute:"1d",minutes:"%dd",hour:"1s",hours:"%ds",day:"1g",days:"%dg",month:"1ay",months:"%day",year:"1y",years:"%dy",wordSeparator:" ",numbers:[]},h.tl={prefixFromNow:"sa loob ng",suffixAgo:" ang nakalipas",seconds:"ilang segundo",minute:"isang minuto",minutes:"%d minuto",hour:"isang oras",hours:"%d oras",day:"isang araw",days:"%d araw",month:"isang buwan",months:"%d buwan",year:"isang taon",years:"%d taon"},h.sv={prefixAgo:"f\xf6r",prefixFromNow:"om",suffixAgo:"sedan",suffixFromNow:"",seconds:"mindre \xe4n en minut",minute:"en minut",minutes:"%d minuter",hour:"en timme",hours:"%d timmar",day:"en dag",days:"%d dagar",month:"en m\xe5nad",months:"%d m\xe5nader",year:"ett \xe5r",years:"%d \xe5r"},h.sr=function(){var e;return e=function(e,t,n,r){var i;return i=void 0,i=e%10,1===i&&(1===e||e>20)?t:i>1&&i<5&&(e>20||e<10)?n:r},{prefixAgo:"\u043f\u0440\u0435",prefixFromNow:"\u0437\u0430",suffixAgo:null,suffixFromNow:null,second:"\u0441\u0435\u043a\u0443\u043d\u0434",seconds:function(t){return e(t,"%d \u0441\u0435\u043a\u0443\u043d\u0434","%d \u0441\u0435\u043a\u0443\u043d\u0434\u0435","%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438")},minute:"\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442",minutes:function(t){return e(t,"%d \u043c\u0438\u043d\u0443\u0442","%d \u043c\u0438\u043d\u0443\u0442\u0430","%d \u043c\u0438\u043d\u0443\u0442\u0430")},hour:"\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442",hours:function(t){return e(t,"%d \u0441\u0430\u0442","%d \u0441\u0430\u0442\u0430","%d \u0441\u0430\u0442\u0438")},day:"\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d",days:function(t){return e(t,"%d \u0434\u0430\u043d","%d \u0434\u0430\u043d\u0430","%d \u0434\u0430\u043d\u0430")},month:"\u043c\u0435\u0441\u0435\u0446 \u0434\u0430\u043d\u0430",months:function(t){return e(t,"%d \u043c\u0435\u0441\u0435\u0446","%d \u043c\u0435\u0441\u0435\u0446\u0430","%d \u043c\u0435\u0441\u0435\u0446\u0438")},year:"\u0433\u043e\u0434\u0438\u043d\u0443 \u0434\u0430\u043d\u0430",years:function(t){return e(t,"%d \u0433\u043e\u0434\u0438\u043d\u0443","%d \u0433\u043e\u0434\u0438\u043d\u0435","%d \u0433\u043e\u0434\u0438\u043d\u0430")},wordSeparator:" "}}(),h.sk={prefixAgo:"pred",prefixFromNow:null,suffixAgo:null,suffixFromNow:null,seconds:"menej ne\u017e min\xfatou",minute:"min\xfatou",minutes:"%d min\xfatami",hour:"hodinou",hours:"%d hodinami",day:"1 d\u0148om",days:"%d d\u0148ami",month:"1 mesiacom",months:"%d mesiacmi",year:"1 rokom",years:"%d rokmi"},h.ru=function(){var e;return e=function(e,t,n,r){var i;return i=e%10,1===i&&(1===e||e>20)?t:i>1&&i<5&&(e>20||e<10)?n:r},{prefixAgo:null,prefixFromNow:"\u0447\u0435\u0440\u0435\u0437",suffixAgo:"\u043d\u0430\u0437\u0430\u0434",suffixFromNow:null,seconds:"\u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b",minute:"\u043c\u0438\u043d\u0443\u0442\u0443",minutes:function(t){return e(t,"%d \u043c\u0438\u043d\u0443\u0442\u0430","%d \u043c\u0438\u043d\u0443\u0442\u044b","%d \u043c\u0438\u043d\u0443\u0442")},hour:"\u0447\u0430\u0441",hours:function(t){return e(t,"%d \u0447\u0430\u0441","%d \u0447\u0430\u0441\u0430","%d \u0447\u0430\u0441\u043e\u0432")},day:"\u0434\u0435\u043d\u044c",days:function(t){return e(t,"%d \u0434\u0435\u043d\u044c","%d \u0434\u043d\u044f","%d \u0434\u043d\u0435\u0439")},month:"\u043c\u0435\u0441\u044f\u0446",months:function(t){return e(t,"%d \u043c\u0435\u0441\u044f\u0446","%d \u043c\u0435\u0441\u044f\u0446\u0430","%d \u043c\u0435\u0441\u044f\u0446\u0435\u0432")},year:"\u0433\u043e\u0434",years:function(t){return e(t,"%d \u0433\u043e\u0434","%d \u0433\u043e\u0434\u0430","%d \u043b\u0435\u0442")}}}(),h.ro={prefixAgo:"acum",prefixFromNow:"in timp de",suffixAgo:"",suffixFromNow:"",seconds:"mai putin de un minut",minute:"un minut",minutes:"%d minute",hour:"o ora",hours:"%d ore",day:"o zi",days:"%d zile",month:"o luna",months:"%d luni",year:"un an",years:"%d ani"},h["pt-BR"]={prefixAgo:"h\xe1",prefixFromNow:"em",suffixAgo:null,suffixFromNow:null,seconds:"alguns segundos",minute:"um minuto",minutes:"%d minutos",hour:"uma hora",hours:"%d horas",day:"um dia",days:"%d dias",month:"um m\xeas",months:"%d meses",year:"um ano",years:"%d anos"},h["pt-BR-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1M",months:"%dM",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},h.pl=function(){var e;return e=function(e,t,n){var r;return r=e%10,r>1&&r<5&&(e>20||e<10)?t:n},{prefixAgo:null,prefixFromNow:"za",suffixAgo:"temu",suffixFromNow:null,seconds:"mniej ni\u017c minut\u0119",minute:"minut\u0119",minutes:function(t){return e(t,"%d minuty","%d minut")},hour:"godzin\u0119",hours:function(t){return e(t,"%d godziny","%d godzin")},day:"dzie\u0144",days:"%d dni",month:"miesi\u0105c",months:function(t){return e(t,"%d miesi\u0105ce","%d miesi\u0119cy")},year:"rok",years:function(t){return e(t,"%d lata","%d lat")}}}(),h.no={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre enn et minutt",minute:"et minutt",minutes:"%d minutter",hour:"en time",hours:"%d timer",day:"en dag",days:"%d dager",month:"en m\xe5ned",months:"%d m\xe5neder",year:"et \xe5r",years:"%d \xe5r"},h.nl={prefixAgo:null,prefixFromNow:"over",suffixAgo:"geleden",suffixFromNow:null,seconds:"minder dan een minuut",minute:"een minuut",minutes:"%d minuten",hour:"een uur",hours:"%d uur",day:"een dag",days:"%d dagen",month:"een maand",months:"%d maanden",year:"een jaar",years:"%d jaar",wordSeparator:" ",numbers:[]},h.ms={prefixFromNow:"dalam ",suffixAgo:" yang lalu",seconds:"beberapa saat",minute:"seminit",minutes:"%d minit",hour:"sejam",hours:"%d jam",day:"sehari",days:"%d hari",month:"sebulan",months:"%d bulan",year:"setahun",years:"%d tahun"},h.ko={prefixAgo:null,prefixFromNow:null,suffixAgo:"\uc804",suffixFromNow:"\ud6c4",seconds:"1\ubd84",minute:"1\ubd84",minutes:"%d\ubd84",hour:"1\uc2dc\uac04",hours:"%d\uc2dc\uac04",day:"\ud558\ub8e8",days:"%d\uc77c",month:"1\uac1c\uc6d4",months:"%d\uac1c\uc6d4",year:"1\ub144",years:"%d\ub144",wordSeparator:" ",numbers:[]},h.ja={prefixAgo:"",prefixFromNow:"\u4eca\u304b\u3089",suffixAgo:"\u524d",suffixFromNow:"\u5f8c",seconds:"1 \u5206\u672a\u6e80",minute:"1 \u5206",minutes:"%d \u5206",hour:"1 \u6642\u9593",hours:"%d \u6642\u9593",day:"1 \u65e5",days:"%d \u65e5",month:"1 \u30f6\u6708",months:"%d \u30f6\u6708",year:"1 \u5e74",years:"%d \u5e74",wordSeparator:""},h.it={suffixAgo:"fa",suffixFromNow:"da ora",seconds:"meno di un minuto",minute:"circa un minuto",minutes:"%d minuti",hour:"circa un'ora",hours:"circa %d ore",day:"un giorno",days:"%d giorni",month:"circa un mese",months:"%d mesi",year:"circa un anno",years:"%d anni"},h["it-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1g",days:"%dg",month:"1me",months:"%dme",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},h.id={prefixAgo:null,prefixFromNow:null,suffixAgo:"yang lalu",suffixFromNow:"dari sekarang",seconds:"kurang dari semenit",minute:"satu menit",minutes:"%d menit",hour:"sejam",hours:"%d jam",day:"sehari",days:"%d hari",month:"sebulan",months:"%d bulan",year:"setahun",years:"%d tahun"},h.hu={prefixAgo:null,prefixFromNow:null,suffixAgo:null,suffixFromNow:null,seconds:"kevesebb mint egy perce",minute:"k\xf6r\xfclbel\xfcl egy perce",minutes:"%d perce",hour:"k\xf6r\xfclbel\xfcl egy \xf3r\xe1ja",hours:"k\xf6r\xfclbel\xfcl %d \xf3r\xe1ja",day:"k\xf6r\xfclbel\xfcl egy napja",days:"%d napja",month:"k\xf6r\xfclbel\xfcl egy h\xf3napja",months:"%d h\xf3napja",year:"k\xf6r\xfclbel\xfcl egy \xe9ve",years:"%d \xe9ve"},h.hi={prefixAgo:null,prefixFromNow:null,suffixAgo:"\u092a\u0939\u0932\u0947",suffixFromNow:"\u092e\u0947\u0902",seconds:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",minute:"\u090f\u0915 \u092e\u093f\u0928\u091f",minutes:"%d \u092e\u093f\u0928\u091f",hour:"\u090f\u0915 \u0918\u0902\u091f\u093e",hours:"%d \u0918\u0902\u091f\u0947",day:"\u090f\u0915 \u0926\u093f\u0928",days:"%d \u0926\u093f\u0928",month:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",months:"%d \u092e\u0939\u0940\u0928\u0947",year:"\u090f\u0915 \u0935\u0930\u094d\u0937",years:"%d \u0935\u0930\u094d\u0937"},h.he={prefixAgo:"\u05dc\u05e4\u05e0\u05d9",prefixFromNow:"\u05e2\u05d5\u05d3",seconds:"\u05e4\u05d7\u05d5\u05ea \u05de\u05d3\u05e7\u05d4",minute:"\u05d3\u05e7\u05d4",minutes:"%d \u05d3\u05e7\u05d5\u05ea",hour:"\u05e9\u05e2\u05d4",hours:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":"%d \u05e9\u05e2\u05d5\u05ea"},day:"\u05d9\u05d5\u05dd",days:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":"%d \u05d9\u05de\u05d9\u05dd"},month:"\u05d7\u05d5\u05d3\u05e9",months:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},year:"\u05e9\u05e0\u05d4",years:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":"%d \u05e9\u05e0\u05d9\u05dd"}},h.fr={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"environ une heure",hours:"environ %d heures",day:"environ un jour",days:"environ %d jours",month:"environ un mois",months:"environ %d mois",year:"un an",years:"%d ans"},h["fr-short"]={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"une minute",minutes:"%d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"},h.fi={prefixAgo:null,prefixFromNow:null,suffixAgo:"sitten",suffixFromNow:"tulevaisuudessa",seconds:"alle minuutti",minute:"minuutti",minutes:"%d minuuttia",hour:"tunti",hours:"%d tuntia",day:"p\xe4iv\xe4",days:"%d p\xe4iv\xe4\xe4",month:"kuukausi",months:"%d kuukautta",year:"vuosi",years:"%d vuotta"},h.fa={prefixAgo:null,prefixFromNow:null,suffixAgo:"\u067e\u06cc\u0634",suffixFromNow:"\u0627\u0632 \u062d\u0627\u0644",seconds:"\u06a9\u0645\u062a\u0631 \u0627\u0632 \u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",minute:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",minutes:"%d \u062f\u0642\u06cc\u0642\u0647",hour:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0633\u0627\u0639\u062a",hours:"\u062d\u062f\u0648\u062f %d \u0633\u0627\u0639\u062a",day:"\u06cc\u06a9 \u0631\u0648\u0632",days:"%d \u0631\u0648\u0632",month:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0645\u0627\u0647",months:"%d \u0645\u0627\u0647",year:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0633\u0627\u0644",years:"%d \u0633\u0627\u0644"},h["fa-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1\u062f\u0642\u06cc\u0642\u0647",minute:"1\u062f\u0642\u06cc\u0642\u0647",minutes:"%d\u062f\u0642\u06cc\u0642\u0647",hour:"1\u0633\u0627\u0639\u062a",hours:"%d\u0633\u0627\u0639\u062a",day:"1\u0631\u0648\u0632",days:"%d\u0631\u0648\u0632",month:"1\u0645\u0627\u0647",months:"%d\u0645\u0627\u0647",year:"1\u0633\u0627\u0644",years:"%d\u0633\u0627\u0644"},h.es={prefixAgo:"hace",prefixFromNow:"dentro de",suffixAgo:"",suffixFromNow:"",seconds:"menos de un minuto",minute:"un minuto",minutes:"unos %d minutos",hour:"una hora",hours:"%d horas",day:"un d\xeda",days:"%d d\xedas",month:"un mes",months:"%d meses",year:"un a\xf1o",years:"%d a\xf1os"},h["es-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1me",months:"%dme",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},h.en={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]},h["en-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1yr",years:"%dyr",wordSeparator:" ",numbers:[]},h.el={prefixAgo:"\u03c0\u03c1\u03b9\u03bd",prefixFromNow:"\u03c3\u03b5",suffixAgo:"",suffixFromNow:"",seconds:"\u03bb\u03b9\u03b3\u03cc\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",minute:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",minutes:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",hour:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hours:"%d \u03ce\u03c1\u03b5\u03c2",day:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",days:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",month:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",months:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",year:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",years:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},h["de-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"s",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1T.",days:"%dT.",month:"1Mt.",months:"%dMt.",year:"1J.",years:"%dJ.",wordSeparator:" ",numbers:[]},h.de={prefixAgo:"vor",prefixFromNow:"in",suffixAgo:"",suffixFromNow:"",seconds:"wenigen Sekunden",minute:"etwa einer Minute",minutes:"%d Minuten",hour:"etwa einer Stunde",hours:"%d Stunden",day:"etwa einem Tag",days:"%d Tagen",month:"etwa einem Monat",months:"%d Monaten",year:"etwa einem Jahr",years:"%d Jahren"},h.da={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre end et minut",minute:"et minut",minutes:"%d minutter",hour:"en time",hours:"%d timer",day:"en dag",days:"%d dage",month:"en m\xe5ned",months:"%d m\xe5neder",year:"et \xe5r",years:"%d \xe5r"},h.cy={prefixAgo:null,prefixFromNow:null,suffixAgo:"yn \xf4l",suffixFromNow:"o hyn",seconds:"llai na munud",minute:"funud",minutes:"%d munud",hour:"tua awr",hours:"%d awr",day:"y dydd",days:"%d diwrnod",month:"tua mis",months:"%d mis",year:"y flwyddyn",years:"%d blynedd",wordSeparator:" ",numbers:[]},h.cs=function(){var e;return e=function(e,t,n){return n[t>=0?0:2===n.length||e<5?1:2]},{prefixAgo:"p\u0159ed",prefixFromNow:"za",suffixAgo:null,suffixFromNow:null,seconds:function(t,n){return e(t,n,["m\xe9n\u011b ne\u017e minutou","m\xe9n\u011b ne\u017e minutu"])},minute:function(t,n){return e(t,n,["minutou","minutu"])},minutes:function(t,n){return e(t,n,["%d minutami","%d minuty","%d minut"])},hour:function(t,n){return e(t,n,["hodinou","hodinu"])},hours:function(t,n){return e(t,n,["%d hodinami","%d hodiny","%d hodin"])},day:function(t,n){return e(t,n,["%d dnem","%d den"])},days:function(t,n){return e(t,n,["%d dny","%d dny","%d dn\xed"])},month:function(t,n){return e(t,n,["%d m\u011bs\xedcem","%d m\u011bs\xedc"])},months:function(t,n){return e(t,n,["%d m\u011bs\xedci","%d m\u011bs\xedce","%d m\u011bs\xedc\u016f"])},year:function(t,n){return e(t,n,["%d rokem","%d rok"])},years:function(t,n){return e(t,n,["%d lety","%d roky","%d let"])}}}(),h.ca={prefixAgo:"fa",prefixFromNow:"d'aqu\xed",suffixAgo:null,suffixFromNow:null,seconds:"menys d'un minut",minute:"un minut",minutes:"%d minuts",hour:"una hora",hours:"%d hores",day:"un dia",days:"%d dies",month:"un mes",months:"%d mesos",year:"un any",years:"%d anys"},h.bg={prefixAgo:"\u043f\u0440\u0435\u0434\u0438",prefixFromNow:"\u0441\u043b\u0435\u0434",suffixAgo:null,suffixFromNow:null,seconds:"\u043f\u043e-\u043c\u0430\u043b\u043a\u043e \u043e\u0442 \u043c\u0438\u043d\u0443\u0442\u0430",minute:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",minutes:"%d \u043c\u0438\u043d\u0443\u0442\u0438",hour:"\u0435\u0434\u0438\u043d \u0447\u0430\u0441",hours:"%d \u0447\u0430\u0441\u0430",day:"\u0435\u0434\u0438\u043d \u0434\u0435\u043d",days:"%d \u0434\u043d\u0438",month:"\u0435\u0434\u0438\u043d \u043c\u0435\u0441\u0435\u0446",months:"%d \u043c\u0435\u0441\u0435\u0446\u0430",year:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",years:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},h.ar=function(){var e,t;return e=function(e,t){var n;return t[n=0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5]},t={prefixAgo:"\u0645\u0646\u0630",prefixFromNow:"\u0628\u0639\u062f",suffixAgo:null,suffixFromNow:null,second:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629","\u062b\u0627\u0646\u064a\u062a\u064a\u0646","%d \u062b\u0648\u0627\u0646\u064d","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"])},seconds:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629","\u062b\u0627\u0646\u064a\u062a\u064a\u0646","%d \u062b\u0648\u0627\u0646\u064d","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"])},minute:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629","\u062f\u0642\u064a\u0642\u062a\u064a\u0646","%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629"])},minutes:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629","\u062f\u0642\u064a\u0642\u062a\u064a\u0646","%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629"])},hour:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629","\u0633\u0627\u0639\u062a\u064a\u0646","%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"])},hours:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629","\u0633\u0627\u0639\u062a\u064a\u0646","%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"])},day:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f","\u064a\u0648\u0645\u064a\u0646","%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"])},days:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f","\u064a\u0648\u0645\u064a\u0646","%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"])},month:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f","\u0634\u0647\u0631\u064a\u0646","%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u064b\u0627","%d \u0634\u0647\u0631"])},months:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f","\u0634\u0647\u0631\u064a\u0646","%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u064b\u0627","%d \u0634\u0647\u0631"])},year:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f","%d \u0639\u0627\u0645\u064a\u0646","%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627"])},years:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f","\u0639\u0627\u0645\u064a\u0646","%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"])}}}(),i=document.documentElement.lang||"en",r=i.split("-")[0],a=h[i+"-short"]||h[r+"-short"]||h[i]||h[r]||h.en,o=h[i]||h.en,f=function(e,t){var n;return n=("function"==typeof e?e(t):void 0)||e,n.replace(/%d/i,Math.round(t))},n=function(e){var t,n,r;return t=(new Date).getTime(),r=new Date(e).getTime(),n=t-r},u=function(e,t){var n,r,i,a,o,s;return o=t/1e3,i=o/60,r=i/60,n=r/24,a=n/30,s=n/365,o<45?f(e.seconds,o,-t):o<90?f(e.minute,i,-t):i<45?f(e.minutes,i,-t):i<90?f(e.hour,r,-t):r<24?f(e.hours,r,-t):r<36?f(e.day,n,-t):n<28?f(e.days,n,-t):n<45?f(e.month,a,-t):a<12?f(e.months,a,-t):a<18?f(e.year,s,-t):f(e.years,s,-t)},l=function(e){return u(a,e)},s=function(e){var t;return t=u(o,e),e>0?(o.prefixAgo&&(t=o.prefixAgo+" "+t),o.suffixAgo&&(t=t+" "+o.suffixAgo)):(o.prefixFromNow&&(t=o.prefixFromNow+" "+t),o.suffixFromNow&&(t=t+" "+o.suffixFromNow)),t},d=function(e){var t,r,i,a;if(a=e.getAttribute("datetime"),r=e.getAttribute("dateformat"),t=n(a),i="long"===r?s(t):l(t),e.innerHTML!==i)return e.innerHTML=i,e.setAttribute("title",new Date(a).toString())},t=function(e){var t,r;if(r=e.getAttribute("datetime"),t=n(r),e.innerHTML!==relativeTime)return e.innerHTML=relativeTime,e.setAttribute("title",new Date(r).toString())},e=Object.create(HTMLElement.prototype),e.createdCallback=function(){},e.detachedCallback=function(){return clearInterval(this.dataset.relativeTimeTimer)},e.attachedCallback=function(){return d(this),this.dataset.relativeTimeTimer=setInterval(function(e){return function(){return d(e)}}(this),6e4)},e.attributeChangedCallback=function(e){if("datetime"===e)return d(this)},c=document.registerElement("relative-time",{prototype:e})}.call(this),function(){var e,t;e=Object.create(HTMLTextAreaElement.prototype),e.createdCallback=function(){},e.detachedCallback=function(){return $(this).off("input change")},e.attachedCallback=function(){var e,t,n,r;return(t=this.getAttribute("data-value"))&&(this.value=t||""),e=$(this),r=0,n=e.css("line-height"),e.css({minHeight:n,height:n}),e.css({height:this.scrollHeight-r+"px"}),e.on("input change",function(){return e.css({height:n}),e.css({height:this.scrollHeight-r+"px"})})},e.attributeChangedCallback=function(e,t,n){if("data-value"===e)return this.value=n||"",$(this).trigger("change")},document.registerElement("multiline-input",{prototype:e,"extends":"textarea"}),t=document.createElement("style"),t.innerHTML='textarea[is="multiline-input"] {\n  overflow: hidden;\n  box-shadow: none;\n  resize: none;\n  border: none;\n  transition: none;\n  margin: 0;\n  padding: 0;\n}',document.head.appendChild(t)}.call(this),function(){var e,t;t={},e=Object.create(HTMLElement.prototype),e.createdCallback=function(){var e,t;return t=this.dataset.html,e=t,this.innerHTML=e},e.attributeChangedCallback=function(e,t,n){if("data-html"===e)return this.innerHTML=n},document.registerElement("padlet-raw",{prototype:e})}.call(this),function(){var e,t,n;n="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e=Object.create(HTMLImageElement.prototype),e.createdCallback=function(){},e.detachedCallback=function(){},e.attachedCallback=function(){var e;return this.dataset.backgroundColor&&""!==this.dataset.backgroundColor&&(this.style.backgroundColor=this.dataset.backgroundColor),this.dataset.src?(this.src=n,e=new Image,e.onload=function(t){return function(){return t.src=e.src,t.style.backgroundColor="",$(t).addClass("beethoven-success").trigger("beethoven-load")}}(this),e.onerror=function(e){return function(){return e.style.backgroundColor="",$(e).addClass("beethoven-fail").trigger("beethoven-error")}}(this),e.src=this.dataset.src):($(this).on("load",function(){return this.style.backgroundColor="",$(this).addClass("beethoven-success").trigger("beethoven-load")}),$(this).on("error",function(){return this.style.backgroundColor="",$(this).addClass("beethoven-fail").trigger("beethoven-error"),this.src=n}))},e.attributeChangedCallback=function(e,t,n){if("data-background-color"===e)return this.style.backgroundColor=n},t=document.registerElement("beethoven-img",{prototype:e,"extends":"img"
})}.call(this),function(){}.call(this);