!function(){"use strict";angular.module("fact2",["ngAnimate","ngCookies","ngSanitize","ui.router","ngMaterial","ng-showdown"])}(),function(){"use strict";function e(e,t,a,n){function i(i){function o(){}function r(){g.articleExpanded=!0}function s(){return t.getArticleList().then(function(e){var t=60;e.forEach(function(e){e.label=e.article_id+": "+(e.headline.length<t?e.headline:e.headline.substr(0,t)+"...")}),g.articleList=e})}function c(e){return t.getArticle(e).then(function(e){g.article=e,g.isNewArticle=!1})}function l(e){g.article.photo_url=URL.createObjectURL(e),g.article.photoFileObject=e}function d(){c(g.selectedArticleId).then(function(){$(".article-card").scrollTop(0),m=angular.copy(g.article)})}function u(){return g.uploading=!0,t.putArticle(g.article).then(function(t){e.log("success saving");g.article.pk;g.article=t,m=angular.copy(g.article),g.articleHasChanged=!1,s().then(function(){g.selectedArticleId=g.article.article_id}),g.uploading=!1},function(t){e.log("save article failure!!"),g.uploading=!1,401===t.status&&a.go("manageLogin")})}function p(){return t.getBlankArticle().then(function(e){g.article=e,g.selectedArticleId=void 0,m=angular.copy(g.article),g.isNewArticle=!0})}if(!n.verifyAuthorized())return void a.go("manageLogin");var m,g=this;g.articleList=[],g.selectedArticleId="",g.articleExpanded=!0,g.article={},g.curProgress=0,g.maxProgress=10,g.progressPips=[];for(var f=0;f<g.maxProgress;f++)g.progressPips.push("");g.simClasses=[{simClass:"sim-iPhone5s",label:"iPhone 5s"},{simClass:"sim-iPhone6",label:"iPhone 6"},{simClass:"sim-iPhone6sP",label:"iPhone 6s+"},{simClass:"sim-iPhone6sPChrome",label:"iPhone 6s+ Chrome"},{simClass:"sim-galaxyS7",label:"galaxy S7"},{simClass:"sim-pixel7",label:"Pixel 7.1"}],g.simClass=g.simClasses[0].simClass,g.showHint=r,g.selectImage=l,g.onChange=o,g.revertArticle=d,g.saveArticle=u,g.addArticle=p,s().then(function(){g.selectedArticleId=g.articleList[0].article_id}),i.$watch(function(){return g.selectedArticleId},function(){g.selectedArticleId&&c(g.selectedArticleId).then(function(){$(".article-card").scrollTop(0),m=angular.copy(g.article)})}),i.$watch(function(){return angular.toJson(g.article)},function(e){g.articleHasChanged=e!==angular.toJson(m)})}return i.$inject=["$scope"],{restrict:"E",controller:i,controllerAs:"main",bindToController:!0,templateUrl:"app/components/managementPages/articleEdit/articleEditMain/articleEditMain.html"}}function t(e){function t(e,t,a){t.on("input onpropertychange",function(){t[0].value=t[0].value.replace(/\r\n/g,"\n")})}return{restrict:"E",link:t}}e.$inject=["$log","articleService","$state","authorizationService"],t.$inject=["$log"],angular.module("fact2").directive("articleEditMain",e).directive("textarea",t)}(),function(){"use strict";function e(e,t,a,n,i,o,r,s){function c(e){function n(t){var a="/api/gameplay2/"+t+"/?start_date="+e.startDate.toISOString()+"&end_date="+e.endDate.toISOString();i.location=a}function c(){var e="/api/gameplay2/download_database/";i.location=e}function l(e,t){var a=new Blob([e],{type:"text/plain;charset=utf-8"});o.saveAs(a,t)}function d(){var t=e.gamePlayStats,a=[["outcome","num_plays","avg_time","avg_score","avg_score_pct","avg_correct","avg_correct_pct","avg_played","avg_played_pct"].join("	")];t.forEach(function(e){a.push([e.outcome_status,e.num_plays,e.avg_time,e.avg_score,100*e.avg_pct_score,e.avg_correct,100*e.avg_pct_correct,e.avg_completed,100*e.avg_pct_completed].join("	"))}),l(a.join("\n"),"gamePlayAgg.csv")}function u(){var t=e.articleStats,a=[["id","headline","num_plays","avg_time","num_correct","num_hints"].join("	")];t.forEach(function(t){e.articleFilter(t)&&a.push([t.article_id,'"'+t.headline+'"',t.num_plays,t.avg_time,t.num_correct,t.num_hints].join("	"))}),l(a.join("\n"),"articlePlayAgg.csv")}function p(){var a,n;e.filterByDate&&(a=e.startDate,n=e.endDate),e.calculatingGames=e.calculatingArticles=!0,t.getArticleStatistics(a,n).then(function(t){e.articleStats=t,t.forEach(function(e){e.headline.length>30&&(e.headline=e.headline.substr(0,40)+"...")})})["finally"](function(){e.calculatingArticles=!1}),t.getGamePlayStatistics(a,n).then(function(t){e.gamePlayStats=t})["finally"](function(){e.calculatingGames=!1}),e.needsUpdate=!1}if(!s.verifyAuthorized())return void r.go("manageLogin");var m=[];e.currentGameOnly=!0,e.filterByDate=!0,e.needsUpdate=!1,e.refreshStatistics=p,e.saveGamesCsv=d,e.saveArticlesCsv=u,e.downloadCsv=n,e.downloadDatabase=c,a.getSettings().then(function(){m=[],a.roundInfo.forEach(function(e){m=m.concat(e.articleIds)}),e.startDate=new Date(a.modified_date),e.endDate=new Date,p()}),e.articleFilter=function(t){return!e.currentGameOnly||m.indexOf(t.pk)>=0}}return c.$inject=["$scope"],{restrict:"E",controller:c,templateUrl:"app/components/managementPages/statistics/statisticsPage.html"}}e.$inject=["$log","dataTracking","gameSettings","$document","$window","filesaver","$state","authorizationService"],angular.module("fact2").directive("statisticsPage",e)}(),/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.1.20150716
 *
 * By Eli Grey, http://eligrey.com
 * License: X11/MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
function(){"use strict";var e=e||function(e){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,a=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},r=e.webkitRequestFileSystem,s=e.requestFileSystem||r||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",d=0,u=500,p=function(t){var n=function(){angular.isString(t)?a().revokeObjectURL(t):t.remove()};e.chrome?n():setTimeout(n,u)},m=function(e,t,a){t=[].concat(t);for(var n=t.length;n--;){var i=e["on"+t[n]];if(angular.isFunction(i))try{i.call(e,a||e)}catch(o){c(o)}}},g=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},f=function(t,c,u){u||(t=g(t));var f,v,h,y=this,w=t.type,b=!1,S=function(){m(y,"writestart progress write writeend".split(" "))},k=function(){if((b||!f)&&(f=a().createObjectURL(t)),v)v.location.href=f;else{var n=e.open(f,"_blank");void 0===n&&"undefined"!=typeof safari&&(e.location.href=f)}y.readyState=y.DONE,S(),p(f)},I=function(e){return function(){return y.readyState!==y.DONE?e.apply(this,arguments):void 0}},_={create:!0,exclusive:!1};return y.readyState=y.INIT,c||(c="download"),i?(f=a().createObjectURL(t),n.href=f,n.download=c,void setTimeout(function(){o(n),S(),p(f),y.readyState=y.DONE})):(e.chrome&&w&&w!==l&&(h=t.slice||t.webkitSlice,t=h.call(t,0,t.size,l),b=!0),r&&"download"!==c&&(c+=".download"),(w===l||r)&&(v=e),s?(d+=t.size,void s(e.TEMPORARY,d,I(function(e){e.root.getDirectory("saved",_,I(function(e){var a=function(){e.getFile(c,_,I(function(e){e.createWriter(I(function(a){a.onwriteend=function(t){v.location.href=e.toURL(),y.readyState=y.DONE,m(y,"writeend",t),p(e)},a.onerror=function(){var e=a.error;e.code!==e.ABORT_ERR&&k()},"writestart progress write abort".split(" ").forEach(function(e){a["on"+e]=y["on"+e]}),a.write(t),y.abort=function(){a.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),k)}),k)};e.getFile(c,{create:!1},I(function(e){e.remove(),a()}),I(function(e){e.code===e.NOT_FOUND_ERR?a():k()}))}),k)}),k)):void k())},v=f.prototype,h=function(e,t,a){return new f(e,t,a)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,a){return a||(e=g(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(v.abort=function(){var e=this;e.readyState=e.DONE,m(e,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);angular.module("fact2").service("filesaver",["$log",function(t){var a={saveAs:e};return a}])}(),function(){"use strict";function e(e,t){function a(e,a){var n,i=500;a.on("mouseover",function(){t.cancel(n),n=t(function(){a.addClass("show-popup")},i)}),a.on("mouseout",function(){t.cancel(n),n=t(function(){a.removeClass("show-popup")},i)}),e.$on("$destroy",function(){t.cancel(n)})}return{restrict:"E",link:a}}e.$inject=["$log","$timeout"],angular.module("fact2").directive("popupDoc",e)}(),function(){"use strict";function e(e,t,a){function n(e){return a.verifyAuthorized()?void 0:void t.go("manageLogin")}return n.$inject=["$scope"],{restrict:"E",templateUrl:"app/components/managementPages/manageHome/manageHome.html",controller:n}}e.$inject=["$log","$state","authorizationService"],angular.module("fact2").directive("manageHome",e)}(),function(){"use strict";function e(e,t,a){function n(n){function i(){a.authorize(n.username,n.password).then(function(a){e.log("outcome: "+a),n.hadLoginError=!a,a&&t.go("manageHome")})}n.tryToLogin=i,a.signOut(),n.$watch(function(){return n.username+"|"+n.password},function(){})}return n.$inject=["$scope"],{restrict:"E",controller:n,templateUrl:"app/components/managementPages/login/login.html"}}e.$inject=["$log","$state","authorizationService"],angular.module("fact2").directive("loginPage",e)}(),function(){"use strict";function e(e,t,a,n,i){function o(o){function r(){t.getSettings().then(function(){c=angular.copy(t),o.settingsHaveChanged=!1})}function s(){t.postSettings().then(function(){c=angular.copy(t),o.settingsHaveChanged=!1},function(t,a){e.log("There was an error"),e.log(t),401===t.status&&n.go("manageLogin")})}if(!i.verifyAuthorized())return void n.go("manageLogin");var c;o.articleDict={},o.revertSettings=r,o.saveSettings=s,a.getArticleList().then(function(e){e.forEach(function(e){o.articleDict[e.pk]=e})}),t.getSettings().then(function(){o.gameSettings=t,c=angular.copy(t),o.$watch(function(){return angular.toJson(t)},function(){t.updateSettingsCalculations(),o.settingsHaveChanged=!angular.equals(c,o.gameSettings)})})}return o.$inject=["$scope"],{restrict:"E",controller:o,templateUrl:"app/components/managementPages/gameSettings/gameSettingsEditor.html"}}function t(){return function(e){var t=moment(e);return t.format("h:mm a ddd MMM DD YYYY")}}e.$inject=["$log","gameSettings","articleService","$state","authorizationService"],angular.module("fact2").directive("gameSettingsEditor",e).filter("utcStrToLocalDate",t)}(),function(){"use strict";function e(e,t,a){function n(){s.maximum_articles_played=0,s.maximum_score=0,s.roundInfo.forEach(function(e){angular.isUndefined(e.shouldRandomize)&&(e.shouldRandomize=!1),(!e.shouldRandomize||angular.isUndefined(e.roundLength))&&(e.roundLength=e.articleIds.length),s.maximum_articles_played+=e.roundLength,s.maximum_score+=e.roundLength*e.reward})}function i(){return t.get(r).then(function(e){var t=e.data;angular.extend(s,t),n()})}function o(){var e={method:"POST",url:r,headers:{"Content-type":"application/json"},data:s};return a.setAuthHeader(e.headers),n(),t(e).then(function(e){var t=e.data;angular.extend(s,t)})}var r="/api/gameplay2/game_settings/",s={roundInfo:[{articleIds:[128,129,125],reward:10,reward_with_hint:5},{articleIds:[123,122,121],reward:10,reward_with_hint:5},{articleIds:[117,118,119,120],reward:10,reward_with_hint:5}],getSettings:i,postSettings:o,updateSettingsCalculations:n};return s}e.$inject=["$log","$http","authorizationService"],angular.module("fact2").service("gameSettings",e)}(),function(){"use strict";function e(e){function t(e){function t(){var e=n.listAsString.split(/\D+/).map(function(e){return 1*e.trim()}).filter(function(e){return e>0});n.model=e}function a(){n.listAsString=n.model.join(", ")}var n=this;n.listAsString=n.model.join(", "),n.onChange=t,n.onBlur=a}return t.$inject=["$scope"],{restrict:"E",scope:{model:"=",valid:"="},controller:t,controllerAs:"vm",bindToController:!0,template:'<label>Article Id List </label><input type="text" ng-model="vm.listAsString" ng-change="vm.onChange()" ng-blur="vm.onBlur()">'}}e.$inject=["$log"],angular.module("fact2").directive("articleIdList",e)}(),function(){"use strict";function e(e,a,n){function i(){if(c=n.get(t),d.isAuthorized=angular.isDefined(c)&&""!==c,d.isAuthorized){var e=moment().add(l,"hours").toDate();n.put(t,c,{expires:e})}return d.isAuthorized}function o(i,o){var r="/api/f2auth/api-token-auth/";return s(),a.post(r,{username:i,password:o}).then(function(e){c=e.data.token,d.isAuthorized=!0;var a=moment().add(l,"hours").toDate();return n.put(t,c,{expires:a}),!0},function(t){return e.log("it failed"),e.log(t),!1})}function r(e){return e=e||{},c&&(e.Authorization="Token "+c),e}function s(){c="",d.isAuthorized=!1,n.remove(t)}var c,l=4,d={authorize:o,signOut:s,verifyAuthorized:i,setAuthHeader:r,isAuthorized:!1};return i(),d}e.$inject=["$log","$http","$cookies"],angular.module("fact2").service("authorizationService",e);var t="authToken"}(),function(){"use strict";function e(e){function t(e,t,a){t.on("click",function(){$(t)[0].value=null}),t.on("change",function(t){t.target.files&&1==t.target.files.length&&e.loadImageFile({fileObject:t.target.files[0]}),e.$apply()})}return{restrict:"A",scope:{loadImageFile:"&"},link:t}}e.$inject=["$log"],angular.module("fact2").directive("loadImageFile",e)}(),function(){"use strict";function e(){return{restrict:"E",template:['<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"','preserveAspectRatio="none" viewBox="0 0 1000 1000">','<polygon points="0,0 1000,1000, 0,1000, 0,0"></polygon>',"</svg>"].join("\n")}}angular.module("fact2").directive("wedge",e)}(),function(){"use strict";function e(e,t,a,n,i){function o(e,t){function n(a){e.main.shouldSwipe||"showArticle"!==e.main.state||(i.playACSound("silent"),l=c(a),t.on("mousemove",r),t.on("touchmove",r),t.on("mouseleave",o),t.on("mouseup",o),t.on("touchend",o))}function o(a){(e.main.inSwipeLeft||e.main.inSwipeRight)&&e.main.shouldSwipe?e.main.inSwipeLeft?e.main.swipeLeft(d):e.main.swipeRight(d):(t.find(".article-card").css("transform",""),e.main.inSwipeLeft=e.main.inSwipeRight=!1,e.main.shouldSwipe=m=!1),s(),e.$apply()}function r(a){var n=c(a)-l;if(e.main.inSwipeLeft=-u>n,e.main.inSwipeRight=n>u,m=Math.abs(n)>p,e.main.shouldSwipe=m,e.main.inSwipeLeft||e.main.inSwipeRight){var i=e.main.inSwipeLeft?-1:1;d=.5*(n-i*u),t.find(".article-card").css("transform","translateX("+d+"px)")}else t.find(".article-card").css("transform","translateX(0px)");e.$apply()}function s(){t.off("mousemove",r),t.off("touchmove",r),t.off("mouseleave",o),t.off("mouseup",o),t.off("touchend",o)}function c(e){return e.type.indexOf("mouse")>=0?e.pageX:e.changedTouches?e.changedTouches[0].pageX:e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:event.changedTouches[0].pageX}var l,d,u=20,p=100,m=!1,g="ontouchstart"in a;e.main.debugStr+=" canTouch "+g,g?t.on("touchstart",n):t.on("mousedown",n)}return{restrict:"A",link:o}}function t(e,t){function a(e,a){a.css({"pointer-events":"none"}),t(function(){a.css({"pointer-events":"initial"})},200)}return{restrict:"A",link:a}}e.$inject=["$log","$timeout","$window","swiperService","audioService"],t.$inject=["$log","$timeout"],angular.module("fact2").directive("trackSwipe",e).directive("debounce",t)}(),function(){"use strict";function e(e,t,a,n){function i(n,i,o,r){e.log("swipeCard start"),r=r||0;var s=t.defer(),c="left"===o?-1:1;return i.css("myprop","0"),$(i).animate({myprop:1},{step:function(e,t){i.css("transform","translateX("+(r+c*e*600)+"px)")},complete:function(){e.log("swipeCard ended"),a(function(){i.css("transform","")},100),n.main.inSwipeLeft=n.main.inSwipeRight=n.main.article.expanded=!1,n.main.shouldSwipe=!1,$(i).scrollTop(1),s.resolve()}},500),s.promise}var o={swipeCard:i};return o}e.$inject=["$log","$q","$timeout","audioService"],angular.module("fact2").service("swiperService",e)}(),function(){"use strict";function e(e,t,a){function n(n){n.userInfo={age:16,gender:"",education:"",news_media_savvy:"",username:""},n.state="signIn",n.tryLogin=function(){a.playACSound("btn"),e.log("try logging in as "+n.userInfo.username),t.trySignIn(n.userInfo.username).then(function(e){e?n.main.setupForLaunch():n.state="userNotFound"})},n.cancelLogin=function(){a.playACSound("btn"),n.main.setupForLaunch()},n.cancelCreate=function(){a.playACSound("btn"),n.state="signIn"},n.getUserInfo=function(){a.playACSound("btn"),n.state="getInfo"},n.cancelGetInfo=function(){a.playACSound("btn"),n.state="signIn"},n.usernameValid=function(){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n.userInfo.username)},n.infoValid=function(){return n.userInfo.gender&&n.userInfo.education&&n.userInfo.news_media_savvy},n.createUser=function(){n.userInfo.news_media_savvy=1*n.userInfo.news_media_savvy,t.createNewPlayer(n.userInfo).then(function(){n.main.startOver()})}}return n.$inject=["$scope"],{restrict:"E",scope:{main:"="},controller:n,templateUrl:"app/components/startup/startupSequence.html"}}function t(e){function t(e,t){e.clicked=function(){e.model=e.value}}function a(e,t){$(t).click(function(){e.clicked(),e.$apply()})}return t.$inject=["$scope","$element"],{restrict:"E",scope:{model:"=",value:"@"},transclude:!0,template:['<div ng-click="clicked()" class="f2-radio-dot" ng-class="{selected: model==value}"></div>','<div ng-click="clicked()" ng-transclude></div>'].join(""),controller:t,link:a}}e.$inject=["$log","playerService","audioService"],t.$inject=["$log"],angular.module("fact2").directive("startupSequence",e).directive("f2RadioBlock",t)}(),function(){"use strict";function e(e,t,a,n){function i(){return!d.isAnonymous&&d.playerInfo.current_game&&!d.playerInfo.current_game.is_completed&&!d.playerInfo.current_game.was_cancelled&&!(0==d.playerInfo.current_game.game_state.roundNumber&&0==d.playerInfo.current_game.game_state.articleNumber)}function o(){var a=n.get("fact2Username");if(a)return s(a);var i=n.get("anonUsername");return i?(e.log("try to get playerInfo for: "+i),t.get(l,{params:{username:i}}).then(function(t){return e.log("success for user:"+i),d.playerInfo=t.data,d.isAnonymous=!0,d.isSignedIn=!0,!0})):(i="anon"+(Math.random()+"").replace(".",""),d.playerInfo={username:i,is_anonymous:!0},e.log("try to create: "+i),t.post(l,d.playerInfo).then(function(t){return e.log("success creating anon-user:"+i),d.playerInfo=t.data,d.isAnonymous=!0,d.isSignedIn=!0,n.put("anonUsername",i),!0}))}function r(){n.remove("fact2Username"),d.username="",d.isSignedIn=!1,d.isAnonymous=!0}function s(a){return a=a.toLowerCase(),e.log("try to get playerInfo for: "+a),t.get(l,{params:{username:a}}).then(function(t){return e.log("success for user:"+a),d.playerInfo=t.data,d.isAnonymous=!1,d.isSignedIn=!0,n.put("fact2Username",a),!0},function(t){return e.log("can't find "+a),!1})}function c(a){return a.username=a.username.toLowerCase(),e.log("try to create: "+a.username),t.post(l,a).then(function(t){return e.log("success creating :"+a.username),d.playerInfo=t.data,d.isSignedIn=!0,d.playerInfo.is_anonymous?n.put("anonUsername",d.playerInfo.username):n.put("fact2Username",d.playerInfo.username),!0})}var l="/api/gameplay2/player/",d={username:"",isAnonymous:!0,isSignedIn:!1,playerInfo:{},refreshPlayerInfo:o,signOut:r,trySignIn:s,createNewPlayer:c,canResume:i};return d}e.$inject=["$log","$http","$q","$cookies"],angular.module("fact2").service("playerService",e)}(),function(){"use strict";function e(e,a,n){function i(n){var i="/api/gameplay2/player/"+n+"/begin_new_game/";return a.post(i).then(function(a){var n=a.data;e.log("success beginning new game"),e.log(n),s.game_record=n,s.state=n.game_state,s.game_settings=n.game_settings;var i=s.state;i.roundNumber=0,i.articleNumber=0,i.totalScore=0,i.roundInfo=[],s.game_settings.roundInfo.forEach(function(e){angular.isUndefined(e.shouldRandomize)&&(e.shouldRandomize=!1),(!e.shouldRandomize||angular.isUndefined(e.roundLength))&&(e.roundLength=e.articleIds.length);var a={},n=angular.copy(e.articleIds);e.shouldRandomize&&(t(n),n=n.slice(0,e.roundLength)),a.progressPips=[];for(var o=0;o<n.length;o++)a.progressPips.push("");a.articleIds=n,i.roundInfo.push(a)}),s.saveGame()})}function o(){var t="/api/gameplay2/game_play/"+s.game_record.pk+"/",i=s.game_record;return e.log("saveGame: "+i.pk),e.log(i),i.pk?(i.total_score=s.state.totalScore,i.game_state=s.state,a.post(t,i).then(function(e){},function(t){e.log("saveGame failure"),e.log(t)})):n.resolve()}function r(e){var t="/api/gameplay2/game_play/"+e+"/";return a.get(t).then(function(e){var t=e.data;s.game_record=t,s.state=t.game_state,s.game_settings=t.game_settings})}var s={state:{roundNumber:0,articleId:0,totalScore:0,roundInfo:[{articleIds:[128,129,125],progressPips:[]},{articleIds:[123,122,121],progressPips:[]},{articleIds:[117,118,119,120],progressPips:[]}]},game_record:{},beginNewGame:i,saveGame:o,restoreGame:r};return s}function t(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[a],e[a]=t;return e}e.$inject=["$log","$http","$q"],angular.module("fact2").service("gameState",e)}(),function(){"use strict";function e(e,t,a,n){function i(e){c=moment()}function o(e,i,o){var r=Math.min(300,Math.round(moment().diff(c)/1e3));a.game_record.total_time_seconds+=r,a.game_record.total_articles_played+=1,i&&(a.game_record.total_articles_correct+=1);var s="/api/gameplay2/track_article/",l={article_pk:e,player_pk:n.playerInfo.pk,total_time_seconds:r,was_correct:i,showed_hint:o||!1};return t.post(s,l).then(function(e){})}function r(e,a){var n,i="/api/gameplay2/get_article_stats/";return e&&(n={params:{start_date:e}},a&&(n.params.end_date=a)),t.get(i,n).then(function(e){return e.data})}function s(e,a){var n,i="/api/gameplay2/get_game_play_stats/";return e&&(n={params:{start_date:e}},a&&(n.params.end_date=a)),t.get(i,n).then(function(e){var t=e.data,a=[];return["completed","cancelled","inPlay","abandoned"].forEach(function(e){t[e]&&(t[e].outcome_status=e,a.push(t[e]))}),a})}var c=moment(),l={startArticle:i,endArticle:o,getArticleStatistics:r,getGamePlayStatistics:s};return l}e.$inject=["$log","$http","gameState","playerService"],angular.module("fact2").service("dataTracking",e)}(),function(){"use strict";function e(e,t,a,n){function i(e){return angular.isString(e)&&("A"===e[0]&&(e=e.substr(1)),e=1*e),t.get(p+e).then(function(e){var t=e.data;return m&&u(t),t})}function o(e){var a=["body","sourceHint","articleType","headline","payoffContent","payoffSourceUrl","payoffSourceLabel","notes"],i=new FormData;a.forEach(function(t){i.append(t,e[t])}),e.photoFileObject&&i.append("photo",e.photoFileObject),e.pk&&i.append("pk",e.pk);var o={method:"POST",url:p+"postarticle/",data:i,headers:{"Content-Type":void 0}};return n.setAuthHeader(o.headers),t(o).then(function(e){return e.data})}function r(e){var t=a.defer(),n=new FileReader;return n.onloadend=function(e){var a=e.target.result;t.resolve(a)},n.readAsDataURL(e),t.promise}function s(a,n){var i=new FormData;i.append("photo",a),i.append("pk",n);var o={method:"POST",url:p+"postarticleimage/",data:i,headers:{"Content-Type":void 0,Authorization:"Token eda1f570f59ec076dc3e48ec05e5ca7e13117dca"}};return t(o).then(function(t){e.log("success"),e.log(t)},function(t){e.log("success"),e.log(t)})}function c(){return t.get(p+"list").then(function(e){return e.data})}function l(){return t.get(p+"newarticle/").then(function(t){var a=t.data;return e.log(Object.keys(a)),a})}function d(e){var t=["headline","body","sourceHint","payoffSourceLabel","payoffContent"];t.forEach(function(t){e[t]=e[t].replace(/\r\n/g,"\n")})}function u(e){function t(e){return e.trim().length>0}if(e.articleType="news"===e.article_type?"news":"notNews",e.body="",["chunk1","chunk2","chunk3"].forEach(function(t){e.body+=e[t].trim()+"\n\n"}),e.body=e.body.trim(),e.sourceHint=e.info.source.split("\n").filter(t).join("\n\n").trim(),e.payoffSourceUrl=e.source_URL,e.payoffSourceLabel="",e.payoffContent="",e.info.references){var a=e.info.references.split("\n"),n=a[0];n.indexOf("Source")>=0&&(a=a.slice(1),e.payoffSourceLabel=n.replace("Source:","").trim(),e.payoffSourceUrl=e.source_URL.split("\n")[0],e.payoffSourceUrl&&(e.payoffSourceUrl=e.payoffSourceUrl.replace(/"/g,""),0!==e.payoffSourceUrl.indexOf("http")&&(e.payoffSourceUrl="http://"+e.payoffSourceUrl))),e.payoffContent=a.filter(t).join("\n\n").trim()}d(e)}var p="/api/article/",m=!1,g={getArticle:i,getArticleList:c,putArticle:o,getArticleImageForPreview:r,putArticleImage:s,getBlankArticle:l};return g}e.$inject=["$log","$http","$q","authorizationService"],angular.module("fact2").service("articleService",e)}(),function(){"use strict";function e(e,t){function a(e){e.gameState=t;var a=t.state.roundInfo[t.state.roundNumber],n=0;a.progressPips.forEach(function(e){"win"===e&&(n+=1)}),e.percentCorrect=Math.round(100*n/a.progressPips.length)}return a.$inject=["$scope"],{restrict:"E",templateUrl:"app/components/roundPayoff/roundPayoff.html",controller:a,replace:!0}}e.$inject=["$log","gameState"],angular.module("fact2").directive("roundPayoff",e)}(),function(e,t){"use strict";if("undefined"==typeof e||"undefined"==typeof t)throw new Error("ng-showdown was not loaded because one of its dependencies (AngularJS or Showdown) was not met");!function(t,a){function n(){function e(){var e=new a.Converter(t);this.makeHtml=function(t){return e.makeHtml(t)},this.stripHtml=function(e){return String(e).replace(/<[^>]+>/gm,"")}}var t={extensions:[]};this.setOption=function(e,a){return t[e]=a,this},this.getOption=function(e){return t.hasOwnProperty(e)?t[e]:void 0},this.loadExtension=function(e){return t.extensions.push(e),this},this.$get=function(){return new e}}function i(t,a){function n(n,i){n.$watch("model",function(n){var o,r;e.isString(n)?(r=t.makeHtml(n),o=a.trustAsHtml(r)):o=typeof n,i.html(r)})}return{restrict:"A",link:n,scope:{model:"=sdModelToHtml"}}}function o(e){return function(t){return e.stripHtml(t)}}i.$inject=["$showdown","$sce"],o.$inject=["$showdown"],t.provider("$showdown",n).directive("sdModelToHtml",i).directive("markdownToHtml",i).filter("sdStripHtml",o).filter("stripHtml",o)}(e.module("ng-showdown",["ngSanitize"]),t)}(angular,showdown),function(){"use strict";function e(e){function t(e,t){e.fullStart=function(){t.playACSound("btn"),e.main.state="startupSequence"}}return t.$inject=["$scope","audioService"],{restrict:"E",templateUrl:"app/components/launchPage/launchPage.html",replace:!0,controller:t}}e.$inject=["$log"],angular.module("fact2").directive("launchPage",e)}(),function(){"use strict";function e(e){function t(e){}return t.$inject=["$scope"],{restrict:"E",templateUrl:"app/components/instructPanel/instructPanel.html",controller:t}}e.$inject=["$log"],angular.module("fact2").directive("instructPanel",e)}(),function(){"use strict";function e(e,t,a){function n(e){function n(e,t){var a=e+"?",n=[];for(var i in t)n.push(i+"="+encodeURIComponent(t[i]));return a+n.join("&")}e.gameState=t;var i=0,o=0;t.state.roundInfo.forEach(function(e){e.progressPips.forEach(function(e){o+=1,"win"===e&&(i+=1)})}),e.percentCorrect=Math.round(100*i/o);var r=a.location.href.split("#")[0],s={text:"I got "+e.percentCorrect+"% correct playing the Factitious Game at "+r+" !",original_referer:r,ref_src:"twsrc^tfw"},c="https://twitter.com/intent/tweet";e.twitterApiURI=n(c,s),e.facebookApiURI="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(r)}return n.$inject=["$scope"],{restrict:"E",templateUrl:"app/components/gamePayoff/gamePayoff.html",replace:!0,controller:n}}e.$inject=["$log","gameState","$window"],angular.module("fact2").directive("gamePayoff",e)}(),function(){"use strict";function e(e,t){function a(e){e.confID=Math.floor(7*Math.random())+1,e.speedClass=["rotate-fast","normal","rotate-slow","rotate-slowest"][Math.floor(3*Math.random())],Math.random()>.5&&(e.speedClass+=" counter-rotate")}function n(e,t){t.css({left:angular.element(".bigboy").width()*Math.random()-t.width()});var a=-15-70*Math.random();t.css({top:a+"%"})}return a.$inject=["$scope"],{restrict:"E",controller:a,link:n,scope:{},template:'<div class="confetti-item-rotate" ng-class="speedClass"><img ng-src="assets/confetti-particles/{{confID}}.svg"/></div>'}}e.$inject=["$log","$interval"],angular.module("fact2").directive("confettiItem",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/components/burgerPane/burgerPane.html"}}e.$inject=["$log"],angular.module("fact2").directive("burgerPane",e)}(),function(){"use strict";function e(e,t){function a(e){e.audioService=t,e.toggleAudio=function(){t.muted?t.unmuteAll():t.muteAll()}}return a.$inject=["$scope"],{restrict:"E",controller:a,scope:{},template:['<div ng-click="toggleAudio()">','<i ng-if="audioService.muted" class="material-icons mute-unmute">volume_off</i>','<i ng-if="!audioService.muted" class="material-icons mute-unmute">volume_up</i>',"</div>"].join("")}}e.$inject=["$log","audioService"],angular.module("fact2").directive("muteUnmute",e)}(),function(){"use strict";function e(e,t,a,n,i){function o(e,t){t=t||e,i.get(c+t,{responseType:"arraybuffer"}).then(function(t){s.decodeAudioData(t.data,function(t){l[e]=t})})}var r;e.log('getting audio settings... "'+a.get("muted")+'" '+("true"===a.get("muted")));var s=new(t.AudioContext||t.webkitAudioContext),c="assets/audio/",l={};o("silent","silent.mp3"),o("whooshIncorrect","whooshIncorrect.mp3"),o("whooshCorrect","whooshCorrect.mp3"),o("gameOver","gameResults_kaChing.mp3"),o("btnWipe","bluppThenWipe2.mp3"),o("btn","bluppNoWipe.mp3");var d={muted:"true"===a.get("muted"),audioPath:c,playACSound:function(e){if(!d.muted){var t=s.createBufferSource();t.buffer=l[e],t.connect(s.destination),t.start(0)}},stopSoundEffect:function(){r&&(r.pause(),r=null)},playSoundEffect:function(a){if(!d.muted){d.stopSoundEffect();var n=d.audioPath+a;e.log("play soundEffect: "+n),r=new t.Audio,r.src=n,r.play()}},muteAll:function(){d.stopSoundEffect(),d.muted=!0,a.put("muted",!0)},unmuteAll:function(){d.muted=!1,a.put("muted",!1)}};return d}e.$inject=["$log","$window","$cookies","$interval","$http"],angular.module("fact2").service("audioService",e)}(),function(){"use strict";function e(e){return{restrict:"E",replace:!0,scope:{main:"=",payoffType:"="},templateUrl:"app/components/articlePayoff/articlePayoff.html"}}function t(){return function(e){return 0!==e.indexOf("http")&&(e="http://"+e),e}}e.$inject=["$log"],angular.module("fact2").directive("articlePayoff",e).filter("addHttp",t)}(),function(){"use strict";function e(e,t){function a(e){var a=this;e.gameState=t,e.$watch(function(){return t.state.roundInfo[t.state.roundNumber]},function(){t.state.roundNumber<t.state.roundInfo.length&&(a.progressPips=t.state.roundInfo[t.state.roundNumber].progressPips)})}return a.$inject=["$scope"],{restrict:"E",controller:a,controllerAs:"vm",bindToController:!0,scope:{curProgress:"="},template:['<div class="progress-holder">','<div ng-repeat="pip in vm.progressPips track by $index" class="progress-pip"'," ng-class=\"{'correct': pip==='win', 'incorrect': pip==='lose', 'current': gameState.state.articleNumber==$index}\"></div>","</div>"].join("")}}e.$inject=["$log","gameState"],angular.module("fact2").directive("roundProgress",e)}(),function(){"use strict";function e(e,t){function a(e){var a=this;a.progressIndicator=0,e.$watch(function(){return t.state.roundInfo[t.state.roundNumber]},function(){t.state.roundNumber<t.state.roundInfo.length&&(a.progressPips=t.state.roundInfo[t.state.roundNumber].progressPips,a.progressIndicator=120*(t.state.articleNumber/a.progressPips.length),isNaN(a.progressIndicator)&&(a.progressIndicator=0))}),e.$watch(function(){return t.state.articleNumber},function(){t.state.roundNumber<t.state.roundInfo.length&&(a.progressPips=t.state.roundInfo[t.state.roundNumber].progressPips,a.progressIndicator=120*(t.state.articleNumber/a.progressPips.length),isNaN(a.progressIndicator)&&(a.progressIndicator=0))})}return a.$inject=["$scope"],{restrict:"E",controller:a,controllerAs:"vm",bindToController:!0,scope:{curProgress:"="},templateUrl:"app/components/articleHeaderFooter/pencilProgress.html"}}e.$inject=["$log","gameState"],angular.module("fact2").directive("pencilProgress",e)}(),function(){"use strict";function e(e){return{restrict:"E",templateUrl:"app/components/articleHeaderFooter/bigHeader.html"}}e.$inject=["$log"],angular.module("fact2").directive("bigHeader",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{main:"="},templateUrl:"app/components/articleHeaderFooter/articleHeader.html"}}e.$inject=["$log"],angular.module("fact2").directive("articleHeader",e)}(),function(){"use strict";function e(e,t){function a(e){var a=e.main;e.gameState=t,e.disableButtons=function(){return"showArticle"!=a.state||a.inSwipe||a.slideInArticle||a.showRoundBanner}}return a.$inject=["$scope"],{restrict:"E",templateUrl:"app/components/articleHeaderFooter/articleFooter.html",controller:a}}e.$inject=["$log","gameState"],angular.module("fact2").directive("articleFooter",e)}(),function(){"use strict";function e(e,t){function a(e){var t=this;e.main=t.main}function n(e,a,n,i){t(function(){var e=a.outerWidth(),t=a.outerHeight();i.w=e,i.h=t+128},1e3)}return a.$inject=["$scope"],{restrict:"E",scope:{articleInfo:"=",main:"="},controller:a,controllerAs:"ad",bindToController:!0,templateUrl:"app/components/articleDisplay/articleDisplay.template.html",link:n}}e.$inject=["$log","$timeout"],angular.module("fact2").directive("articleDisplay",e)}(),function(){"use strict";function e(e,t,a,n,i,o,r,s,c,l,d){function u(){P.showBurger=!1,P.state="showLaunch",P.checkingForUser=!0,d.refreshPlayerInfo().then(function(){P.checkingForUser=!1,P.userIsAnonymous=d.isAnonymous,P.userCanResume=d.canResume()})}function p(){d.signOut(),P.userIsAnonymous=d.isAnonymous,u(),n.playACSound("btn")}function m(e){return t.log("starting new game"),P.state="prepareArticle",n.playACSound("btnWipe"),d.refreshPlayerInfo().then(function(){var a;e&&d.canResume()?(t.log("restore game"),a=s.restoreGame(d.playerInfo.current_game.pk)):(t.log("create new game"),a=s.beginNewGame(d.playerInfo.pk)),a.then(function(){return P.numberOfRounds=s.state.roundInfo.length,s.state.articleNumber>=s.state.roundInfo[s.state.roundNumber].articleIds.length&&(s.state.roundNumber+=1,s.state.articleNumber=0),P.progressPips=s.state.roundInfo[s.state.roundNumber].progressPips,r.getArticle(s.state.roundInfo[s.state.roundNumber].articleIds[s.state.articleNumber]).then(function(e){P.article=e,P.state="showArticle",x(),t.log("show first article"),l.startArticle(P.article.pk)})})})}function g(){return P.isPreview?P.simClass:""}function f(){m(!0)}function v(){m(!1)}function h(){n.playACSound("btn"),s.saveGame()}function y(e){P.showInstructions=e,n.playACSound("btn")}function w(i){P.shouldSwipe=!0,P.inSwipeLeft=!0,P.inSwipe=!0,"notNews"===P.article.articleType?n.playACSound("whooshCorrect"):n.playACSound("whooshIncorrect"),a.swipeCard(e,$(".article-card"),"left",i).then(function(){t.log("Main swiped left!"),P.shouldSwipe=!1,k("notNews"),P.state="showResult",P.inSwipe=!1})}function b(i){P.shouldSwipe=!0,P.inSwipeRight=!0,P.inSwipe=!0,"news"===P.article.articleType?n.playACSound("whooshCorrect"):n.playACSound("whooshIncorrect"),a.swipeCard(e,$(".article-card"),"right",i).then(function(){t.log("Main swiped right!"),P.shouldSwipe=!1,k("news"),P.state="showResult",P.inSwipe=!1})}function S(){P.articleExpanded=!0,n.playACSound("btn"),o(function(){$(".article-card").scrollTop($(".article-card").scrollTop()+50)},250)}function k(e){var t=s.state.roundInfo[s.state.roundNumber];t.progressPips[s.state.articleNumber]=e===P.article.articleType?"win":"lose","win"===t.progressPips[s.state.articleNumber]?(P.articleExpanded?s.state.totalScore+=s.game_settings.roundInfo[s.state.roundNumber].reward_with_hint:s.state.totalScore+=s.game_settings.roundInfo[s.state.roundNumber].reward,P.payoffType="correct"):P.payoffType="incorrect",l.endArticle(P.article.pk,"correct"===P.payoffType,P.articleExpanded)}function I(){var e=s.state.roundInfo[s.state.roundNumber];s.state.articleNumber+=1,s.state.articleNumber<e.articleIds.length?(P.state="prepareArticle",r.getArticle(e.articleIds[s.state.articleNumber]).then(function(e){P.article=e,P.state="showArticle",P.articleExpanded=!1,l.startArticle(P.article.pk)}),n.playACSound("btnWipe")):(s.saveGame(),P.state="showRoundResult",n.playACSound("btn"))}function _(){s.state.roundNumber+=1,s.state.roundNumber>=s.state.roundInfo.length?(s.game_record.is_completed=!0,s.saveGame(),P.state="showGamePayoff",x(),n.playACSound("gameOver")):(s.state.articleNumber=0,P.state="prepareArticle",P.progressPips=s.state.roundInfo[s.state.roundNumber],r.getArticle(s.state.roundInfo[s.state.roundNumber].articleIds[s.state.articleNumber]).then(function(e){P.article=e,P.state="showArticle",P.articleExpanded=!1,l.startArticle(P.article.pk),x()}),n.playACSound("btnWipe"))}function A(){s.game_record.is_completed?(P.showBurger=!1,u()):(s.game_record.was_cancelled=!0,s.saveGame().then(function(){P.showBurger=!1,u()})),n.playACSound("btn")}function x(){P.showRoundBanner=!0,P.roundNumber=s.state.roundNumber,o(function(){P.showRoundBanner=!1},2e3)}function C(){P.showBurger=!P.showBurger,P.showInstructions=!1,P.showBurger&&$("burger-pane .gray-section").scrollTop(0),n.playACSound("btn");
}var P=this;P.isPreview=c.isPreview,P.simClasses=[{simClass:"sim-iPhone5s",label:"iPhone 5s"},{simClass:"sim-iPhone6",label:"iPhone 6"},{simClass:"sim-iPhone6sP",label:"iPhone 6s+"},{simClass:"sim-iPhone6sPChrome",label:"iPhone 6s+ Chrome"},{simClass:"sim-galaxyS7",label:"galaxy S7"},{simClass:"sim-pixel7",label:"Pixel 7.1"},{simClass:"desktop",label:"Desktop"}],P.simClass=P.simClasses[0].simClass,P.isIphone=/(iPhone)/i.test(navigator.userAgent),P.isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),P.debugStr=""+("webkitAudioContext"in i),P.article={headline:"This is the headline. This will always be the headline.",info:{source:"Op-Ed Article, Albert Camus",publisher:"Bourbaki News",references:"Source: abcnews.com.co\n\nThis is one of the trickiest kinds of fake news. It mimics a real news site, down to the logo. Look carefully at the URL -- this is not ABC news! "},photo_url:"assets/images/oldman.png",body:"Electron capture is a decay which happens in many proton-rich, heavy nuclei. You can envision the situation in your title as \"forced electron capture\".\n\nSquishing atoms together at such high densities makes it energetically favorable for electrons to be destroyed so that the resulting particles can occupy lower energy levels.\n\nThere's no need to think about nuclei at the quark level, but you certainly can. The actual matter in neutron stars is in the form of exotic phases of nuclear matter rather than discrete nuclei, but anyway what I said above gives a good heuristic description.\n\nIt's not just the electron that turns into a neutrino and neutron, it's both the electron and the proton, so there's no net change of charge."},P.article.body+="\n\n"+P.article.body,P.curProgress=0,P.maxProgress=10,P.inSwipe=!1,P.showBurger=!1,P.swipeLeft=w,P.swipeRight=b,P.showHint=S,P.nextQuestion=I,P.nextRound=_,P.startOver=A,P.toggleBurger=C,P.quickStartGame=v,P.getSimClass=g,P.setupForLaunch=u,P.signOut=p,P.resumeGame=f,P.saveGame=h,P.showInstruct=y,u(),e.$watch(function(){return s.state.roundNumber},function(){}),e.$watch(function(){return P.article},function(){P.slideInArticle=!0,o(function(){P.slideInArticle=!1},750)})}e.$inject=["$scope","$log","swiperService","audioService","$window","$timeout","articleService","gameState","$stateParams","dataTracking","playerService"],angular.module("fact2").controller("MainController",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("fact2").run(e)}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/newMain.html",controller:"MainController",controllerAs:"main"}).state("preview",{url:"/preview",templateUrl:"app/main/newMain.html",controller:"MainController",controllerAs:"main",params:{isPreview:!0}}).state("manageHome",{url:"/manage",template:"<manage-home></manage-home>"}).state("manageLogin",{url:"/login",template:"<login-page></login-page>"}).state("articleEdit",{url:"/editor",template:"<article-edit-main></article-edit-main>"}).state("gameSettingsEdit",{url:"/gameSettings",template:"<game-settings-editor></game-settings-editor>"}).state("statisticsPage",{url:"/statistics",template:"<statistics-page></statistics-page>"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("fact2").config(e)}(),function(){"use strict";angular.module("fact2").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function e(e){e.debugEnabled(!0)}e.$inject=["$logProvider"],angular.module("fact2").config(e)}(),angular.module("fact2").run(["$templateCache",function(e){e.put("app/main/newMain.html","<div class=noselect layout=horizontal layout-fill><md-content class=bigboy ng-class=main.getSimClass()><big-header ng-cloak ng-if=\"main.state=='showLaunch' || main.state=='showGamePayoff'\"></big-header><launch-page ng-cloak ng-if=\"main.state=='showLaunch' && !main.checkingForUser\"></launch-page><game-payoff ng-cloak ng-if=\"main.state=='showGamePayoff'\"></game-payoff><!-- can also be the startup header --><article-header ng-cloak ng-if=\"main.state!=='showLaunch' && main.state!=='showGamePayoff'\" main=main></article-header><!-- startup screens --><startup-sequence ng-cloak ng-if=\"main.state==='startupSequence'\" main=main class=article-lower-pane><div>Startup</div></startup-sequence><!-- actual gameplay --><div ng-cloak ng-if=\"main.state!=='showLaunch' && main.state!=='showGamePayoff' && main.state!=='startupSequence'\" class=article-lower-pane><article-display ng-if=\"main.state=='showArticle'\" class=article-section ng-class=\"{'swipe-alert': main.inSwipeLeft || main.inSwipeRight, 'slide-in-article': main.slideInArticle}\" main=main track-swipe></article-display><div ng-if=\"main.state=='showResult'\" class=article-section><article-payoff main=main payoff-type=main.payoffType></article-payoff></div><div ng-if=\"main.state=='showRoundResult'\" class=article-section><round-payoff main=main payoff-type=main.payoffType></round-payoff></div><div ng-if=\"main.state=='prepareArticle'\" class=article-section></div><article-footer></article-footer><div ng-if=main.showRoundBanner class=\"round-banner slide-down-banner\">round {{main.roundNumber+1}} of {{main.numberOfRounds}}</div><div class=dialog-blocker ng-if=main.showBurger></div><burger-pane ng-class=\"{enabled: main.showBurger}\"></burger-pane><instruct-panel ng-if=main.showInstructions></instruct-panel></div></md-content><div ng-if=main.isPreview class=preview-block ng-class=main.getSimClass()><a ui-sref=manageHome class=admin-link>go to management home page</a><div>Approximate form factor for preview...</div><md-radio-group ng-model=main.simClass layout=row layout-wrap><md-radio-button ng-repeat=\"option in main.simClasses\" ng-value=option.simClass>{{option.label}}</md-radio-button></md-radio-group></div></div>"),e.put("app/components/articleDisplay/articleDisplay.template.html",'<md-card class=article-card ng-class="{\'disabled\': main.shouldSwipe}" debounce><div><!-- div class="source-area" ng-if="main.article.sourceHint" sd-model-to-html="main.article.sourceHint" ng-class="{\'expanded\': main.articleExpanded}">\n    </div --><md-card-content><!-- div>{{ad.w}} x {{ad.h}}</div --><!-- div>{{main.debugStr}}</div --><h3 class=md-title sd-model-to-html=main.article.headline></h3><div><img class=pull-right draggable=false ng-src={{main.article.photo_url}}><div sd-model-to-html=main.article.body></div></div><!-- div sd-model-to-html="ad.main.article.info.source" class="source-area" ng-class="{\'expanded\': ad.main.articleExpanded}">\n      </div --><div layout=row layout-align="center center"><div class="f2-button ss-button" ng-click=main.showHint() ng-show=!main.articleExpanded><div>show source</div></div></div></md-card-content><div class=source-area ng-if=main.article.sourceHint ng-class="{\'expanded\': main.articleExpanded}"><wedge></wedge><div class=source-area-content sd-model-to-html=main.article.sourceHint></div></div></div></md-card><div ng-if="main.shouldSwipe && main.inSwipeLeft" class=swipe-left-flag><div>fake</div></div><div ng-if="main.shouldSwipe && main.inSwipeRight" class=swipe-right-flag><div>news</div></div>'),e.put("app/components/articlePayoff/articlePayoff.html",'<div class=payoff-holder ng-class="{\'popup-payoff-incorrect\': payoffType===\'incorrect\'}"><md-card class="results-card popup-payoff" xstyle="width: 100%; overflow: visible;" debounce><div class=payoff-header ng-class="{\'popup-payoff-correct\': payoffType===\'correct\'}"><div class=payoff-header-content>{{ payoffType===\'correct\' ? \'correct!\' : \'incorrect!\' }}</div><wedge class="flip-x flip-y"></wedge><!-- div class="wedge">\n      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n        preserveAspectRatio="none" viewBox="0 0 1000 1000">\n        <polygon points="0,0 1000,1000, 0,1000, 0,0"></polygon>\n      </svg>\n    </div --></div><md-card-content><div><div ng-if="main.article.articleType==\'news\'"><p ng-if="payoffType===\'correct\'">That\'s right! That was a <span class=news-span>news</span> article!</p><p ng-if="payoffType!==\'correct\'">Sorry! That was actually a <span class=news-span>news</span> article.</p></div><div ng-if="main.article.articleType==\'notNews\'"><p ng-if="payoffType===\'correct\'">That\'s right! That was a <span class=not-news-span>fake</span> article!</p><p ng-if="payoffType!==\'correct\'">Sorry! That was actually a <span class=not-news-span>fake</span> article.</p></div><p ng-if="main.article.payoffSourceLabel && main.article.payoffSourceUrl">Source: <a target=_blank ng-href="{{main.article.payoffSourceUrl | addHttp}}">{{main.article.payoffSourceLabel}}</a></p><p ng-if="main.article.payoffSourceLabel && !main.article.payoffSourceUrl">Source: {{main.article.payoffSourceLabel}}</p><div sd-model-to-html=main.article.payoffContent></div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.nextQuestion()>continue</div></div></div></md-card-content></md-card></div>'),e.put("app/components/burgerPane/burgerPane.html",'<div class=burger-title><img src=assets/icons/factitiousWordmark.svg></div><div class=action-items layout=column layout-align="flex-start center"><div class=f2-button ng-click=main.showInstruct(true)>instructions</div><div class=f2-button ng-if=!main.userIsAnonymous ng-click=main.saveGame()>save game</div><div class=f2-button ng-if=!main.userIsAnonymous ng-click=main.signOut()>sign out</div><div class=f2-button ng-click=main.startOver()>start over</div></div><div class=gray-section><h3>about</h3><div ng-include="\'assets/aboutContent.html.frag\'"></div><h3>credits</h3><p>CONCEPT & DESIGN: Maggie Farley<br>GAME DESIGNER: Bob Hone<br>DESIGN TEAM: Cherisse Datu, Kelli Dunlap<br>ART & ILLUSTRATION: Joyce Rice<br>GAME DESIGN GURU: Lindsay Grace<br>EDITORIAL CONSULTANT: Amy Eisman<br>DEVELOPER: Chas Brown<br></p></div>'),e.put("app/components/instructPanel/instructPanel.html",'<md-card class="results-card round-payoff popup-payoff" debounce><div class=instruct-header><div class=instruct-header-content>how to play</div><div class=wedge><svg version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink preserveAspectRatio=none viewBox="0 0 1000 1000"><polygon points="0,0 1000,1000, 0,1000, 0,0"></polygon></svg></div></div><md-card-content><div><div style="text-align: center">Swipe <span class="news-span instruct">right</span> or click<real-news-icon></real-news-icon>if you think the article is <span class="news-span instruct">real</span></div><div style="text-align: center">Swipe <span class="not-news-span instruct">left</span> or click<fake-news-icon></fake-news-icon>if you think the article is <span class="not-news-span instruct">fake</span></div><div class=real-news><i><b>Real news</b></i> - fact-based reporting from a reliable source, intends to be objectively informing</div><div class=fake-news><i><b>Fake news</b></i> - made-up news, satire, ads, or opinion</div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.showInstruct(false)>got it!</div></div></div></md-card-content></md-card>'),e.put("app/components/launchPage/launchPage.html",'<div ng-show=!main.checkingForUser class="article-lower-pane launch-page"><md-card ng-if=main.userIsAnonymous class="results-card welcome-card popup-payoff" debounce><div class=welcome-header><div class=welcome-header-content>can you tell real news from fake news?</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><div><div style="text-align: center">Swipe <span class="news-span instruct">right</span> or click<real-news-icon></real-news-icon>if you think the article is <span class="news-span instruct">real</span></div><div style="text-align: center">Swipe <span class="not-news-span instruct">left</span> or click<fake-news-icon></fake-news-icon>if you think the article is <span class="not-news-span instruct">fake</span></div></div></md-card-content></md-card><div ng-if=main.userIsAnonymous layout=row layout-align="center center"><div class=f2-button ng-click=main.quickStartGame()>quick start</div></div><div ng-if=main.userIsAnonymous layout=row layout-align="center center" style=padding-top:5px><div class=f2-button ng-disabled=true ng-click=fullStart()>full start</div></div><md-card ng-if=!main.userIsAnonymous class="results-card welcome-card popup-payoff" debounce><div class=welcome-header><div class=welcome-header-content>welcome back!</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><div layout=row layout-align="center center"><div class=f2-button ng-class="{disabled: !main.userCanResume}" ng-click=main.resumeGame()>resume game</div></div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.quickStartGame()>new game</div></div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.signOut()>sign out</div></div></md-card-content></md-card></div>'),e.put("app/components/roundPayoff/roundPayoff.html",'<md-card class="results-card round-payoff popup-payoff" debounce><div class=round-payoff-header><div class=round-payoff-header-content>round {{gameState.state.roundNumber+1}} complete!</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><round-progress></round-progress><div><div>you correctly identified real news <span style="color: #219083; font-weight: bold">{{percentCorrect}}% of the time</span>.</div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.nextRound()>continue</div></div></div></md-card-content></md-card>'),e.put("app/components/gamePayoff/gamePayoff.html",'<div class="article-lower-pane game-payoff-page"><md-card class="results-card payoff-card popup-payoff" debounce><div class=payoff-header><div class=payoff-header-content>final score: {{gameState.state.totalScore}}</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><div style="text-align: center; padding: 10px">You correctly identified real news <span class=emph>{{percentCorrect}}% of the time</span></div><div ng-if="percentCorrect<50" style="text-align: center; padding: 10px">Maybe you\'d like to try again?</div><div layout=row layout-align="center center" style="padding-top: 10px"><div class=f2-button ng-click=main.startOver()>play again</div><div class="f2-button twitter-button"><a target=_blank href={{twitterApiURI}}><img src=assets/icons/twitter-button.svg></a></div><div class="f2-button facebook-button"><a target=_blank href={{facebookApiURI}}><img src=assets/icons/facebook-button.svg></a></div></div></md-card-content></md-card><confetti-holder ng-if="percentCorrect>=50" class=confetti-fall-1><confetti-item ng-repeat="i in [1,2,3,4,5,6,7,8,9,10, 11,12,13,14,15,16,17,18,19,20]"></confetti-item></confetti-holder><confetti-holder ng-if="percentCorrect>=50" class=confetti-fall-2><confetti-item ng-repeat="i in [1,2,3,4,5,6,7,8,9,10, 11,12,13,14,15,16,17,18,19,20]"></confetti-item></confetti-holder><confetti-holder ng-if="percentCorrect>=50" class=confetti-fall-3><confetti-item ng-repeat="i in [1,2,3,4,5,6,7,8,9,10, 11,12,13,14,15,16,17,18,19,20]"></confetti-item></confetti-holder><div ng-if="percentCorrect>=50" class="payoff-banner end-banner slide-down-banner">YOU WIN!!</div><div ng-if="percentCorrect<50" class="payoff-banner end-banner slide-down-banner">GAME OVER!!</div></div>'),e.put("app/components/articleHeaderFooter/articleFooter.html",'<footer class=footer-slide><section flex layout=row layout-align="space-around center" style="height: 56px"><div class=fake-button ng-click=main.swipeLeft() ng-class="{disabled: disableButtons()}"></div><div class=scoring-loaf><div class=sl-score>{{gameState.state.totalScore}}</div><div class=sl-info>round {{gameState.state.roundNumber+1}}</div></div><div class=news-button ng-click=main.swipeRight() ng-class="{disabled: disableButtons()}"></div></section></footer>'),e.put("app/components/articleHeaderFooter/articleHeader.html",'<header class=header-slide><section ng-if="main.state!==\'startupSequence\'" class=flex-bar><div class=chunk1><mute-unmute></mute-unmute></div><!-- round-progress cur-progress="main.curProgress"></round-progress --><pencil-progress cur-progress=main.curProgress></pencil-progress><section class=chunk1><i ng-if=!main.showBurger ng-click=main.toggleBurger() class=material-icons>menu</i> <i ng-if=main.showBurger ng-click=main.toggleBurger() class=material-icons>close</i></section></section><section ng-if="main.state===\'startupSequence\'" class="flex-bar startup-bar"><div class=startup-banner><img src=assets/icons/factitiousWordmark.svg></div></section></header>'),e.put("app/components/articleHeaderFooter/bigHeader.html",'<div class=header-slide><div class=back-layer><div class=top-layer><div class=title><div class=title-content><div><img src=assets/icons/factitiousWordmark.svg></div><div style="text-align: center">A game that tests your news sense<br>by <a target=_blank href=http://jolt.augamelab.com>JoLT</a> and <a target=_blank href=https://www.american.edu/gamelab/ >AU Game Lab</a></div></div><wedge class=flip-y></wedge></div></div></div><wedge class=flip-y></wedge></div>'),e.put("app/components/articleHeaderFooter/pencilProgress.html",'<div><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 180 50"><defs><style>.cls-1{fill:#fff;}\n				.cls-2,.cls-6{fill:none;}\n				.cls-2{stroke:#a0d9d4;}\n				.cls-2,.cls-5,.cls-6{stroke-miterlimit:10;}\n\n				.cls-3,.cls-5{fill:#209083;}\n				\n				.cls-4{fill:#0f5e55;}\n				.cls-5,.cls-6{stroke:#fff;}\n				.cls-6{stroke-width:2px;}</style></defs><title>pencil</title><svg><g id=Layer_1 data-name="Layer 1"><polygon class=cls-1 points="155.7 17 21.46 17 21.46 33.66 155.7 33.66 177.63 25.33 155.7 17"/><line class=cls-2 x1=154.45 y1=21.17 x2=23.54 y2=21.17 /><line class=cls-2 x1=146.84 y1=25.33 x2=23.54 y2=25.33 /><line class=cls-2 x1=154.45 y1=29.58 x2=23.54 y2=29.58 /><rect class=cls-3 x=13.26 y=17 width=8.21 height=16.66 /><!-- eraser --><path class=cls-4 d=M4.77,17h8.48a0,0,0,0,1,0,0V33.66a0,0,0,0,1,0,0H4.77A2.77,2.77,0,0,1,2,30.89V19.77A2.77,2.77,0,0,1,4.77,17Z /><!-- indicator rect --><rect class=cls-3 ng-attr-x=23.55 ng-attr-y=19.04 ng-attr-width={{vm.progressIndicator}} height=12.58 /><!-- pencil point --><polygon class=cls-4 points="167.89 21.63 167.89 29.03 177.63 25.33 167.89 21.63"/><polygon class=cls-3 points="156.82 21.16 152.26 19.04 149.9 19.04 154.45 21.16 145.54 25.33 154.45 29.5 149.9 31.62 152.26 31.62 156.82 29.5 147.9 25.33 156.82 21.16"/><line class=cls-5 x1=15.28 y1=18.39 x2=19.44 y2=18.39 /><line class=cls-5 x1=15.28 y1=21.17 x2=19.44 y2=21.17 /><line class=cls-5 x1=15.28 y1=23.94 x2=19.44 y2=23.94 /><line class=cls-5 x1=15.28 y1=26.72 x2=19.44 y2=26.72 /><line class=cls-5 x1=15.28 y1=29.49 x2=19.44 y2=29.49 /><line class=cls-5 x1=15.28 y1=32.27 x2=19.44 y2=32.27 /><line class=cls-6 x1=12.26 y1=17 x2=12.26 y2=33.66 /></g></svg> <svg ng-attr-x={{vm.progressIndicator}}><g><!-- movable squiggly --><polygon class=cls-3 points="35.03 21.23 30.34 19.04 23.55 19.04 23.55 31.62 30.61 31.62 35.03 29.56 26.12 25.39 35.03 21.23"/></g></svg></svg></div>'),e.put("app/components/startup/startupSequence.html",'<div ng-if="state==\'signIn\'" class=flex-fix-holder><md-card class="results-card startup-sequence-card popup-payoff" debounce><div class=startup-sequence-header><div class="startup-sequence-header-content slim">please enter your email address to sign in and start playing:</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><input type=text ng-model=userInfo.username class=login-name></md-card-content><div class=gray-section><div layout=row layout-align="center center"><div class=f2-button ng-click=tryLogin() ng-class="{disabled: !usernameValid()}">go!</div></div><div layout=row layout-align="center center"><div class=f2-button ng-click=cancelLogin()>cancel</div></div></div></md-card></div><div ng-if="state==\'welcomeBack\'" class=flex-fix-holder><md-card class="results-card startup-sequence-card popup-payoff" debounce><div class=startup-sequence-header><div class=startup-sequence-header-content>welcome back!</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><div layout=row layout-align="center center"><div class=f2-button ng-click=main.nextRound()>resume game</div></div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.nextRound()>new game</div></div><div layout=row layout-align="center center"><div class=f2-button ng-click=main.nextRound()>sign out</div></div></md-card-content></md-card></div><div ng-if="state==\'userNotFound\'" class=flex-fix-holder><md-card class="results-card startup-sequence-card popup-payoff" debounce><div class=startup-sequence-header><div class="startup-sequence-header-content slim">user \'{{userInfo.username}}\' not found</div><wedge class="flip-x flip-y"></wedge></div><md-card-content><p>We couldn\'t find a user with that name. If you\'re coming here for the first time, click \'create\' to create a new profile and begin playing the game.</p><p>If you made a mistake typing in the name, click \'cancel\' and try again.</p></md-card-content><div class=gray-section><div layout=row layout-align="center center"><div class=f2-button ng-click=getUserInfo()>create</div></div><div layout=row layout-align="center center"><div class=f2-button ng-click=cancelCreate()>cancel</div></div></div></md-card></div><div ng-if="state==\'getInfo\'" class=flex-fix-holder><md-card class="results-card startup-sequence-card popup-payoff" style="background: #eceded" debounce><div class=startup-sequence-header><div class="startup-sequence-header-content slim">tell us about yourself:</div><wedge class="flip-x flip-y"></wedge></div><div class=gray-section><div><label>age</label><input class=age-input type=number ng-model=userInfo.age></div></div><div class=white-section><div layout=row><label>gender</label><div layout=row layout-align=space-between class=f2-rb-group><f2-radio-block model=userInfo.gender value=F>female</f2-radio-block><f2-radio-block model=userInfo.gender value=M>male</f2-radio-block><f2-radio-block model=userInfo.gender value=O>nonbinary</f2-radio-block></div></div></div><div class=gray-section><label>education</label><div layout=row layout-align=space-between class=f2-rb-group><f2-radio-block model=userInfo.education value=HS>high school</f2-radio-block><f2-radio-block model=userInfo.education value=BS/BA>college</f2-radio-block><f2-radio-block model=userInfo.education value=MS/MA>masters</f2-radio-block><f2-radio-block model=userInfo.education value=PhD>doctorate</f2-radio-block></div></div><div class=white-section><label>news media savvy</label><div layout=row layout-align=space-between class="f2-rb-group nm-savvy"><f2-radio-block model=userInfo.news_media_savvy value=1>not<br>savvy</f2-radio-block><f2-radio-block model=userInfo.news_media_savvy value=2></f2-radio-block><f2-radio-block model=userInfo.news_media_savvy value=3>about<br>average</f2-radio-block><f2-radio-block model=userInfo.news_media_savvy value=4></f2-radio-block><f2-radio-block model=userInfo.news_media_savvy value=5>super<br>savvy</f2-radio-block></div></div><div class=gray-section><div layout=row layout-align="center center"><div class=f2-button ng-click=createUser() ng-class="{disabled: !infoValid()}">save</div><div class=f2-button ng-click=cancelGetInfo()>cancel</div></div></div></md-card></div>'),e.put("app/components/managementPages/gameSettings/gameSettingsEditor.html",'<div><div class=admin-header><h1><img src=assets/icons/factitiousWordmarkAdmin.svg> game editor</h1><div class=admin-nav><a ui-sref=manageHome>home</a> <a ui-sref=statisticsPage>data reviewer</a> <a ui-sref=gameSettingsEdit class=disabled>game editor</a> <a ui-sref=articleEdit>article editor</a> <a ui-sref=manageLogin>sign out</a></div></div><div class=settings-content><div layout=row><div class=ae-button ng-click=saveSettings() ng-class="{disabled: !settingsHaveChanged}">save changes...</div><div class=ae-button ng-click=revertSettings() ng-class="{disabled: !settingsHaveChanged}">revert</div></div><div>Last modified: {{gameSettings.modified_date | utcStrToLocalDate}}</div><div>Total number of articles {{gameSettings.maximum_articles_played}}</div><div>Maximum possible score {{gameSettings.maximum_score}}</div><br><div ng-repeat="roundInfo in gameSettings.roundInfo"><h2>round {{$index+1}}</h2><div class=round-info><div class=basic-info><div>Correct answer reward:</div><div style="padding-left: 10px"><div><label>before hint:</label><input type=number ng-model=roundInfo.reward></div><div><label>after hint:</label><input type=number ng-model=roundInfo.reward_with_hint></div></div></div><div class=article-names><article-id-list model=roundInfo.articleIds></article-id-list><div><input type=checkbox ng-model=roundInfo.shouldRandomize><label>randomize articles</label></div><div ng-if=roundInfo.shouldRandomize><input type=number min=1 ng-attr-max={{roundInfo.articleIds.length}} ng-model=roundInfo.roundLength><label>articles per round, selected randomly from these {{roundInfo.articleIds.length}} articles:</label></div><div ng-if=!roundInfo.shouldRandomize><i>{{roundInfo.articleIds.length}} articles in this round, in this order:</i></div><div class=articles ng-repeat="apk in roundInfo.articleIds"><div ng-if=articleDict[apk]>{{articleDict[apk].article_id}}: {{articleDict[apk].headline}}</div><div ng-if=!articleDict[apk] class=article-error>{{apk}}: Not found</div></div></div></div></div></div></div>'),e.put("app/components/managementPages/login/login.html","<div><div class=admin-header><h1><img src=assets/icons/factitiousWordmarkAdmin.svg> log in</h1><div class=admin-nav><a ui-sref=manageHome class=disabled>home</a> <a ui-sref=statisticsPage class=disabled>statistics</a> <a ui-sref=gameSettingsEdit class=disabled>game editor</a> <a ui-sref=articleEdit class=disabled>article editor</a> <a ui-sref=manageLogin class=disabled>sign out</a></div></div><div class=login-content><h2>Please log in to access the management features</h2><div>username:</div><input type=text ng-model=username><div>password:</div><input type=password ng-model=password><div class=admin-button ng-click=tryToLogin() ng-class=\"{'disabled': !(username && password)}\">log in</div><div ng-if=hadLoginError class=login-error>That is not a valid username/password. Please try again.</div></div></div>"),e.put("app/components/managementPages/manageHome/manageHome.html","<div><div class=admin-header><h1><img src=assets/icons/factitiousWordmarkAdmin.svg> management home</h1><div class=admin-nav><a ui-sref=manageHome class=disabled>home</a> <a ui-sref=statisticsPage>data reviewer</a> <a ui-sref=gameSettingsEdit>game editor</a> <a ui-sref=articleEdit>article editor</a> <a ui-sref=manageLogin>sign out</a></div></div><div class=home-content><p>This page provides access to the tools for managing the Factitious game content.</p><ul><li><a class=admin-link ui-sref=statisticsPage>data reviewer</a> - provides statistics for game play and article play.</li><li><a ui-sref=gameSettingsEdit>game editor</a> - allows changing the list of articles displayed and the scoring mechanisms, one a per round basis.</li><li><a ui-sref=articleEdit>article editor</a> - used to add and edit articles for use in the game.</li></ul><p>You can also go to a special <a class=admin-link ui-sref=preview>preview</a> link to play the game while viewing it at various screen sizes. (This is useful during development to make sure that everything looks reasonable regardless of form factor.)</p><p></p></div></div>"),e.put("app/components/managementPages/statistics/statisticsPage.html",'<div><div class=admin-header><h1><img src=assets/icons/factitiousWordmarkAdmin.svg> data reviewer</h1><div class=admin-nav><a ui-sref=manageHome>home</a> <a ui-sref=statisticsPage class=disabled>data reviewer</a> <a ui-sref=gameSettingsEdit>game editor</a> <a ui-sref=articleEdit>article editor</a> <a ui-sref=manageLogin>sign out</a></div></div><div class=stats-content><div class="stat-header first-stat"><h2>filters</h2></div><div layout=row layout-align="start center"><!-- input type="checkbox" id="fbd" ng-model="filterByDate"--><div>&nbsp;Filter by date from&nbsp;</div><input type=date ng-change="needsUpdate = true" ng-model=startDate><div>&nbsp;to&nbsp;</div><input type=date ng-change="needsUpdate = true" ng-model=endDate><div class=admin-button ng-class="{disabled: !needsUpdate}" ng-click=refreshStatistics()>apply date filter</div><div class=admin-button ng-click=refreshStatistics()>refresh</div></div><div class=stat-header><h2>game play aggregates</h2><div class=admin-button style="width: 100px; text-align: center" ng-click=saveGamesCsv()>save as csv...</div></div><table id=game-table><thead><tr class=g1-row><th colspan=3></th><th colspan=2>avg. score</th><th colspan=2>avg. correct</th><th colspan=2>avg. played</th></tr><tr><th class=outcome-col>outcome</th><th># plays</th><th>avg. time</th><th>#</th><th>% max</th><th>#</th><th>%</th><th>#</th><th>%</th></tr></thead><tbody><tr ng-repeat="g in gamePlayStats"><td class=outcome-col>{{g.outcome_status}}</td><td>{{g.num_plays}}</td><td>{{g.avg_time | number:1}}</td><td>{{g.avg_score | number:1}}</td><td>{{g.avg_pct_score*100 | number:0}}%</td><td>{{g.avg_correct | number:1}}</td><td>{{g.avg_pct_correct*100 | number:0}}%</td><td>{{g.avg_completed | number:1}}</td><td>{{g.avg_pct_completed*100 | number:0}}%</td></tr></tbody></table><div class=stat-header><h2>article play aggregates</h2><div class=admin-button style="width: 100px; text-align: center" ng-click=saveArticlesCsv()>save as csv...</div></div><div><input type=checkbox id=cgo ng-model=currentGameOnly><label for=cgo>Show articles from current game settings only</label></div><table id=article-table><thead><tr><th class=id-col>id</th><th class=hdline-col>headline</th><th># plays</th><th>avg. time</th><th>% correct</th><th>% hints</th></tr></thead><tbody><tr ng-repeat="a in articleStats | filter: articleFilter"><td class=id-col>{{a.article_id}}</td><td class=hdline-col>{{a.headline}}</td><td>{{a.num_plays}}</td><td>{{a.avg_time | number:1}}</td><td>{{100*a.num_correct/a.num_plays | number:1}}</td><td>{{100*a.num_hints/a.num_plays | number:1}}</td></tr></tbody></table><div class=stat-header><h2>downloads</h2></div><div class=download-section><div class=download-row><div class=admin-button ng-click="downloadCsv(\'game_plays_csv\')">Game Plays</div><div>Download a tab-delimited CSV of all game plays in the current date range</div></div><div class=download-row><div class=admin-button ng-click="downloadCsv(\'article_plays_csv\')">Article Plays</div><div>Download a tab-delimited CSV of all article plays in the current date range</div></div><div class=download-row><div class=admin-button ng-click="downloadCsv(\'player_infos_csv\')">Active Players</div><div>Download a tab-delimited CSV of all player infos for non-anonymous players active in the current date range</div></div><div class=download-row><div class=admin-button ng-click=downloadDatabase()>Entire Database</div><div>Download a copy of the entire SQLite3 database</div></div></div></div><div ng-if="calculatingGames || calculatingArticles" class=ae-loading><div>Caclulating Aggregates...<br>This may take up to 1 minute<br>Please be patient and don\'t reload!</div><img src=assets/images/loading.gif></div></div>'),e.put("app/components/managementPages/articleEdit/articleEditMain/articleEditMain.html",'<div><div class=ae-container layout=row layout-align="space-between stretch"><div class=edit-section><div class=admin-header><h1><img src=assets/icons/factitiousWordmarkAdmin.svg> article editor</h1><div class=admin-nav><a ui-sref=manageHome>home</a> <a ui-sref=statisticsPage>data reviewer</a> <a ui-sref=gameSettingsEdit>game editor</a> <a ui-sref=articleEdit class=disabled>article editor</a> <a ui-sref=manageLogin>sign out</a></div></div><div class=edit-section-content><select ng-model=main.selectedArticleId ng-options="option.article_id as option.label for option in main.articleList"></select><div layout=row layout-align="space between"><div class=ae-ctl-row><div class=ae-button ng-click=main.saveArticle() ng-class="{disabled: !main.articleHasChanged}">save changes</div><div class=ae-button ng-click=main.revertArticle() ng-class="{disabled: main.isNewArticle || !main.articleHasChanged}">revert</div></div><div class=ae-ctl-row><div class=ae-button ng-click=main.addArticle() ng-class="{disabled: main.articleHasChanged}">new</div></div></div><hr><div layout=row layout-align="space-between center"><popup-doc><div class="ae-select-image ae-ctl-row"><input class=input-file name=input-file id=input-file type=file accept=image/* load-image-file=main.selectImage(fileObject)><label for=input-file>set image...</label></div><div class=popup-content>Choose a file from your computer to upload. Be sure you have rights to the image or select <a target=_blank href=https://ccsearch.creativecommons.org/ >Creative Commons</a> or <a target=_blank href="https://www.google.com/imghp?as_st=y&tbm=isch&hl=en&as_q=&as_epq=&as_oq=&as_eq=&cr=&as_sitesearch=&safe=images&tbs=sur:fm">free for reuse</a> images. (Instructions for how to screenshot an image from a website on <a target=_blank href=https://support.apple.com/en-us/HT201361>a Mac</a> or on <a target=_blank href=http://www.digitaltrends.com/computing/how-to-take-a-screenshot-on-pc/ >a PC</a>)</div></popup-doc><md-radio-group ng-model=main.article.articleType layout=row><md-radio-button ng-value="\'notNews\'">not news</md-radio-button><md-radio-button ng-value="\'news\'">news</md-radio-button></md-radio-group></div><popup-doc><div class=obj-label>Headline</div><div class=popup-content>Copy and paste the headline from the original site.</div></popup-doc><textarea class=headline-edit ng-model=main.article.headline></textarea><popup-doc><div class=obj-label>Body</div><div class=popup-content>Copy and paste the storys body. Try to keep the content to about two boxes worth of copy. The copy will scroll down.</div></popup-doc><textarea ng-change=main.onChange() class=body-edit ng-model=main.article.body></textarea><popup-doc><div class=obj-label>"show source" Content</div><div class=popup-content>Add the source of the article. To italicize the name of the site or paper, add an underscore before and after the name. (_The Post_).You will be able to see in the editing window to the right if the format is correct.</div></popup-doc><textarea class=source-edit ng-model=main.article.sourceHint></textarea><popup-doc><div class=obj-label>Payoff "Source: " Link Label</div><div class=popup-content>The payoff is the answer. Repeat the name of the source so readers can click on a link to it.</div></popup-doc><textarea class=source-label-edit ng-model=main.article.payoffSourceLabel></textarea><popup-doc><div class=obj-label>Payoff "Source: " Link URL</div><div class=popup-content>The payoff is the answer. Add the URL of the original article for the link.</div></popup-doc><textarea xclass=source-edit ng-model=main.article.payoffSourceUrl></textarea><popup-doc><div class=obj-label>Payoff Content</div><div class=popup-content>The payoff is the answer. Add the explanation of how you can tell this a real or fake article. To italicize the name of the site or paper, add an underscore before and after the name. (_The Post_). You will be able to see in the editing window to the right if the format is correct. Here are some <a target=_blank href=http://fakenews.augamelab.com>tips</a> for fake news detection.</div></popup-doc><textarea class=payoff-edit ng-model=main.article.payoffContent></textarea><popup-doc><div class=obj-label>Notes</div><div class=popup-content>Add photo URL here, story archive URL, or other notes. Fake news articles often disappear, so we archive the webpage through <a target=_blank href=http://www.archive.is/ >archive.is</a>. Simply enter the URL on the archive.is page and it will save it and give you a permanent URL.</div></popup-doc><textarea class=payoff-edit ng-model=main.article.notes></textarea></div></div><div class=preview-panes layout=column><div layout=row><div class="bigboy edit-preview" ng-class=main.simClass><article-header main=main></article-header><article-display main=main class=article-section></article-display><article-footer></article-footer></div><div class="bigboy edit-preview" ng-class=main.simClass style="margin-left: 10px"><article-header main=main></article-header><div class=article-section><article-payoff main=main></article-payoff></div><article-footer></article-footer></div></div><div style="width: 600px"><popup-doc><div>Approximate form factor...</div><div class=popup-content>The Approximate form factor will show you how the content will look with different style phones.</div></popup-doc><md-radio-group ng-model=main.simClass layout=row layout-wrap><md-radio-button ng-repeat="option in main.simClasses" ng-value=option.simClass>{{option.label}}</md-radio-button></md-radio-group></div></div></div><div ng-if=main.uploading class=ae-loading><div>Uploading...</div><img src=assets/images/loading.gif></div></div>');
}]);
//# sourceMappingURL=../maps/scripts/app-640b8a0215.js.map
